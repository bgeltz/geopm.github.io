<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geopm_agent_frequency_map(7) -- agent for running regions at user selected frequencies &mdash; GEOPM  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="geopm_agent_monitor(7) -- agent implementation for aggregating statistics" href="geopm_agent_monitor.7.html" />
    <link rel="prev" title="geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies" href="geopm_agent_energy_efficient.7.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> GEOPM
            <img src="https://geopm.github.io/images/geopm-logo-clear.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="service.html">Guide for Service Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime.html">Guide for HPC Runtime Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Guide for Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Guide for GEOPM Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="reference.html#geopm-manual-pages">GEOPM Manual Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="geopm.7.html">geopm(7) -- global extensible open power manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmaccess.1.html">geopmaccess(1) -- Access management for the GEOPM Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmadmin.1.html">geopmadmin(1) -- tool for geopm system administrators</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmagent.1.html">geopmagent(1) -- query agent information and create static policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmbench.1.html">geopmbench(1) -- synthetic benchmark application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmctl.1.html">geopmctl(1) -- geopm runtime control application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmendpoint.1.html">geopmendpoint(1) -- command line tool for dynamic policy control</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmlaunch.1.html">geopmlaunch(1) -- application launch wrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmread.1.html">geopmread(1) -- query platform information</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmsession.1.html">geopmsession(1) -- Command line interface for the geopm service batch read features</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmwrite.1.html">geopmwrite(1) -- modify platform state</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmdpy.7.html">geopmdpy(7) -- global extensible open power manager python daemon package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmpy.7.html">geopmpy(7) -- global extensible open power manager python package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_c.3.html">geopm_agent_c(3) -- query information about available agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_ctl_c.3.html">geopm_ctl_c(3) -- geopm runtime control thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_daemon_c.3.html">geopm_daemon_c(3) -- helpers for geopm daemons</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_endpoint_c.3.html">geopm_endpoint_c(3) -- dynamic policy control for resource management</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_error.3.html">geopm_error(3) -- error code descriptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_fortran.3.html">geopm_fortran(3) -- geopm fortran interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_hash.3.html">geopm_hash.h(3) -- helper methods for encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_imbalancer.3.html">geopm_imbalancer.h(3) -- set artificial runtime imbalance</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_c.3.html">geopm_pio_c(3) -- interfaces to query and modify platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_policystore_c.3.html">geopm_policystore_c(3) -- geopm resource policy store interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_prof_c.3.html">geopm_prof_c(3) -- application profiling interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_sched.3.html">geopm_sched.h(3) -- interface with Linux scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_time.3.html">geopm_time.h(3) -- helper methods for time</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_topo_c.3.html">geopm_topo_c(3) -- query platform component topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_version.3.html">geopm_version(3) -- geopm library version</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3) -- geopm agent plugin interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Agg.3.html">geopm::Agg(3) -- data aggregation functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CNLIOGroup.3.html">geopm::CNLIOGroup(3) -- IOGroup for interaction with Compute Node Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CircularBuffer.3.html">geopm::CircularBuffer(3) -- generic circular buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Comm.3.html">geopm::Comm(3) -- communication abstractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CpuinfoIOGroup.3.html">geopm::CpuinfoIOGroup(3) -- IOGroup for CPU frequency limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Daemon.3.html">geopm::Daemon(3) -- geopm daemon helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Endpoint.3.html">geopm::Endpoint(3) -- geopm endpoint interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_EnergyEfficientAgent.3.html">geopm::EnergyEfficientAgent(3) -- agent for saving energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_EnergyEfficientRegion.3.html">geopm::EnergyEfficientRegion(3) -- region frequency tuning history</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Exception.3.html">geopm::Exception(3) -- custom geopm exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Helper.3.html">geopm::Helper -- common helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_IOGroup.3.html">geopm::IOGroup(3) -- provides system values and settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MPIComm.3.html">geopm::MPIComm(3) -- implementation of Comm using MPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MSRIO.3.html">geopm::MSRIO(3) -- methods for reading and writing MSRs</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MSRIOGroup.3.html">geopm::MSRIOGroup -- IOGroup providing MSR-based signals and controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MonitorAgent.3.html">geopm::MonitorAgent -- agent that enforces no policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PlatformIO.3.html">geopm::PlatformIO(3) -- geopm platform interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PlatformTopo.3.html">geopm::PlatformTopo(3) -- platform topology information</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PluginFactory.3.html">geopm::PluginFactory(3) -- abstract factory for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerBalancer.3.html">geopm::PowerBalancer(3) -- balances power according to epoch runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerBalancerAgent.3.html">geopm::PowerBalancerAgent(3) -- agent optimizing performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerGovernor.3.html">geopm::PowerGovernor(3) -- enforces a power limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerGovernorAgent.3.html">geopm::PowerGovernorAgent(3) -- agent that enforces a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_ProfileIOGroup.3.html">geopm::ProfileIOGroup(3) -- IOGroup providing application signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_SampleAggregator.3.html">geopm::RegionAggregator(3) -- per-region aggregated signal data</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_SharedMemory.3.html">geopm::SharedMemory(3) -- abstractions for shared memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_TimeIOGroup.3.html">geopm::TimeIOGroup(3) -- IOGroup providing time signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_report.7.html">geopm_report(7) -- geopm summary report file</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_energy_efficient.7.html">geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">geopm_agent_frequency_map(7) -- agent for running regions at user selected frequencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#agent-name">AGENT NAME</a></li>
<li class="toctree-l4"><a class="reference internal" href="#policy-parameters">POLICY PARAMETERS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#policy-requirements">POLICY REQUIREMENTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report-extensions">REPORT EXTENSIONS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#control-loop-rate">CONTROL LOOP RATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">EXAMPLES</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">SEE ALSO</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7) -- agent implementation for aggregating statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7) -- agent optimizes performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7) -- agent enforces a power cap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#signals-and-controls">Signals and Controls</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GEOPM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="reference.html">Reference Manual</a> &raquo;</li>
      <li>geopm_agent_frequency_map(7) -- agent for running regions at user selected frequencies</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/geopm_agent_frequency_map.7.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="geopm-agent-frequency-map-7-agent-for-running-regions-at-user-selected-frequencies">
<h1>geopm_agent_frequency_map(7) -- agent for running regions at user selected frequencies<a class="headerlink" href="#geopm-agent-frequency-map-7-agent-for-running-regions-at-user-selected-frequencies" title="Permalink to this headline"></a></h1>
<section id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>The frequency map agent adjusts CPU frequency in response to changes
in the application region being executed on each CPU.  The agent
policy provides a map from a GEOPM region hash to a CPU frequency; see
<a class="reference external" href="geopm_hash.3.html">geopm_hash(3)</a> for more information about the GEOPM region name
hash function.  When a CPU is executing a region with a hash provided
by the policy, the CPU will operate at the mapped frequency.  The
policy also provides a default CPU frequency which is applied to all
CPUs running the application while not executing a region described by
the policy map.</p>
<p>Applying any control algorithm that changes CPU frequency on short
intervals can result in undesirable interactions with the hardware
control algorithm that dynamically selects uncore frequency.  For this
reason, the frequency map agent policy provides an option to fix the
uncore frequency to a single value while executing the application.
If this option is not specified, the uncore frequency is not
controlled by the agent at all.</p>
<p>Note: this agent can be used to control the application CPUs and
optionally the uncore to run at fixed frequencies if no region
frequency map is provided.</p>
</section>
<section id="agent-name">
<h2>AGENT NAME<a class="headerlink" href="#agent-name" title="Permalink to this headline"></a></h2>
<p>The agent described in this manual is selected in many geopm
interfaces with the <code class="docutils literal notranslate"><span class="pre">&quot;frequency_map&quot;</span></code> agent name.  This name can be
passed to <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> as the argument to the <code class="docutils literal notranslate"><span class="pre">--geopm-agent</span></code>
option, or the <code class="docutils literal notranslate"><span class="pre">GEOPM_AGENT</span></code> environment variable can be set to this
name (see <a class="reference external" href="geopm.7.html">geopm(7)</a>).  This name can also be passed to the
<a class="reference external" href="geopmagent.1.html">geopmagent(1)</a> as the argument to the <code class="docutils literal notranslate"><span class="pre">'-a'</span></code> option.</p>
</section>
<section id="policy-parameters">
<h2>POLICY PARAMETERS<a class="headerlink" href="#policy-parameters" title="Permalink to this headline"></a></h2>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">FREQ_DEFAULT</span></code>:</dt><dd><p>The operating frequency in units of <em>Hz</em> set by the
agent on CPUs executing the application while the
application is not within a policy-mapped region.
The cores not associated with the application
(including the one running the geopm controller)
will run at the default frequency.  This policy
parameter is required and must be specified with a
CPU frequency that is allowed by the system.
Failure to provide this parameter, setting it to an
out of range value or specifying NAN will result in
a runtime error.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FREQ_UNCORE</span></code>:</dt><dd><p>The operating frequency for the uncore clock in units
of <em>Hz</em>.  If specified the uncore clock will operate
the fixed frequency provided.  If the parameter is
not specified, or the value provided is NAN, then the
system default range of uncore frequency will be
allowed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HASH_0</span></code>:</dt><dd><p>The GEOPM hash of a region name with a mapped CPU
frequency given by the <code class="docutils literal notranslate"><span class="pre">FREQ_0</span></code> policy parameter.  The
region hash values for each application region are
provided in the geopm report, and can be generated as
described in <a class="reference external" href="geopm_hash.3.html">geopm_hash(3)</a>.  In binary code, the
policy values are stored the double precision
representation of the 32-bit integer generated by the hash
function.  When using the <a class="reference external" href="geopmagent.1.html">geopmagent(1)</a> interface to
generate a policy file, the region name can be provided in
the comma separated list for the <code class="docutils literal notranslate"><span class="pre">-p</span></code> option rather than
the hash of that string. See <a class="reference internal" href="#examples">EXAMPLES</a> section below for
details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FREQ_0</span></code>:</dt><dd><p>The CPU frequency in units of <em>Hz</em> that will be set when a
CPU is executing the region associated with the <code class="docutils literal notranslate"><span class="pre">HASH_0</span></code>
region hash.  When using the <a class="reference external" href="geopmagent.1.html">geopmagent(1)</a> command
line interface to generate a policy file, the mapped
frequency will always follow the region name or hash in
the comma separated list for the <code class="docutils literal notranslate"><span class="pre">-p</span></code> option.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HASH_1</span></code>:</dt><dd><p>The next region hash in the map after <code class="docutils literal notranslate"><span class="pre">HASH_0</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FREQ_1</span></code>:</dt><dd><p>The next CPU frequency in the map after <code class="docutils literal notranslate"><span class="pre">FREQ_0</span></code>.</p>
</dd>
</dl>
<p>...</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">HASH_30</span></code>:</dt><dd><p>There are at most 31 values in the map provided by the policy.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FREQ_30</span></code>:</dt><dd><p>The CPU frequency mapped by <code class="docutils literal notranslate"><span class="pre">HASH_30</span></code>.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="policy-requirements">
<h2>POLICY REQUIREMENTS<a class="headerlink" href="#policy-requirements" title="Permalink to this headline"></a></h2>
<p>The frequency map index values can be in the range of 0 to 30,
inclusive. The order of index values does not matter, and gaps in
index values are permitted. Multiple definitions of an index are not
permitted, and multiple mappings of a region are not permitted.  If a
CPU or uncore frequency specified in the policy is not allowed by the
system at runtime, an error will occur and an exception will be
raised.</p>
</section>
<section id="report-extensions">
<h2>REPORT EXTENSIONS<a class="headerlink" href="#report-extensions" title="Permalink to this headline"></a></h2>
<p>The assigned frequency is added to each region's section of the report
if that region was explicitly assigned a frequency in the policy map.</p>
</section>
<section id="control-loop-rate">
<h2>CONTROL LOOP RATE<a class="headerlink" href="#control-loop-rate" title="Permalink to this headline"></a></h2>
<p>The agent gates the control loop to sample the region hash and control
CPU frequency at 2 millisecond intervals.  If the uncore frequency is
specified in the policy, then it is set at agent start up time.</p>
</section>
<section id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<p>Besides the default CPU frequency and uncore frequency parameters, the
policy consists of the map of per-region frequencies given as pairs of
region hash and CPU frequency values.  The recommended way to generate
a policy file for this agent is to use the <a class="reference external" href="geopmagent.1.html">geopmagent(1)</a> command
line tool.</p>
<p>To create a policy with a default frequency of <em>3 GHz</em>, an uncore
frequency of <em>2 GHz</em> with a map of <code class="docutils literal notranslate"><span class="pre">&quot;region_1&quot;</span></code> to <em>1.5 GHz</em> and <code class="docutils literal notranslate"><span class="pre">&quot;region_2&quot;</span></code>
to <em>2.5 GHz</em> you can specify:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geopmagent</span> <span class="o">-</span><span class="n">a</span> <span class="n">frequency_map</span> <span class="o">-</span><span class="n">p</span> <span class="s1">&#39;3e9,2e9,region_1,1.5e9,region_2,2.5e9&#39;</span>
</pre></div>
</div>
<p>Alternatively you can specify the regions by their hashed values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geopmagent</span> <span class="o">-</span><span class="n">a</span> <span class="n">frequency_map</span> <span class="o">-</span><span class="n">p</span> <span class="s1">&#39;3e9,2e9,0xee12ee15,1.5e9,0xfd421de1,2.5e9&#39;</span>
</pre></div>
</div>
<p>Although the <a class="reference external" href="geopmagent.1.html">geopmagent(1)</a> is the recommended tool for creating
the json policy string, there is one thing to note about creating the
json string without this tool.  Since json does not support hex
literals, the json must include the hashes in their decimal form. For
example, the above policy json is:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;FREQ_DEFAULT&quot;</span><span class="p">:</span> <span class="mf">3e9</span><span class="p">,</span>
 <span class="nt">&quot;FREQ_UNCORE&quot;</span><span class="p">:</span> <span class="mf">2e9</span><span class="p">,</span>
 <span class="nt">&quot;HASH_0&quot;</span><span class="p">:</span> <span class="mi">3994218005</span><span class="p">,</span>
 <span class="nt">&quot;FREQ_0&quot;</span><span class="p">:</span> <span class="mf">1.5e9</span><span class="p">,</span>
 <span class="nt">&quot;HASH_1&quot;</span><span class="p">:</span> <span class="mi">4248968673</span><span class="p">,</span>
 <span class="nt">&quot;FREQ_1&quot;</span><span class="p">:</span> <span class="mf">2.5e9</span><span class="p">}</span>
</pre></div>
</div>
<p>The <a class="reference external" href="geopmread.1.html">geopmread(1)</a> command line tool can be useful for learning the
bounds of these system parameters.  The minimum, sticker, and
maximum CPU frequencies are queried as below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ geopmread CPU_FREQUENCY_MIN board <span class="m">0</span>
<span class="m">1000000000</span>

$ geopmread CPU_FREQUENCY_STICKER board <span class="m">0</span>
<span class="m">2100000000</span>

$ geopmread CPU_FREQUENCY_MAX board <span class="m">0</span>
<span class="m">3700000000</span>
</pre></div>
</div>
<p>The minimum, and maximum uncore frequencies are queried as below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ geopmread MSR::UNCORE_RATIO_LIMIT:MIN_RATIO board <span class="m">0</span>
<span class="m">1200000000</span>

$ geopmread MSR::UNCORE_RATIO_LIMIT:MAX_RATIO board <span class="m">0</span>
<span class="m">2400000000</span>
</pre></div>
</div>
<p>The <strong>geopmagent</strong> and <strong>geopmread</strong> command line tools can be used together
to generate policies.  For example, to create a policy with the
default CPU frequency set to two steps below maximum and the uncore
frequency to the maximum the following commands can be used:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">freq_default</span><span class="o">=</span><span class="k">$(($(</span>geopmread CPU_FREQUENCY_MAX board <span class="m">0</span><span class="k">)</span> <span class="o">-</span> <span class="se">\</span>
                  <span class="m">2</span> <span class="o">*</span> <span class="k">$(</span>geopmread CPU_FREQUENCY_STEP board <span class="m">0</span><span class="k">)))</span>
$ <span class="nv">freq_uncore</span><span class="o">=</span><span class="k">$(</span>geopmread MSR::UNCORE_RATIO_LIMIT:MAX_RATIO board <span class="m">0</span><span class="k">)</span>
$ geopmagent -a frequency_map -p<span class="nv">$freq_default</span>,<span class="nv">$freq_uncore</span>
  <span class="o">{</span><span class="s2">&quot;FREQ_DEFAULT&quot;</span>: <span class="m">3500000000</span>, <span class="s2">&quot;FREQ_UNCORE&quot;</span>: <span class="m">2400000000</span><span class="o">}</span>
</pre></div>
</div>
</section>
<section id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopm.7.html">geopm(7)</a>,
<a class="reference external" href="geopm_agent_energy_efficient.7.html">geopm_agent_energy_efficient(7)</a>,
<a class="reference external" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7)</a>,
<a class="reference external" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a>,
<a class="reference external" href="geopm_agent_c.3.html">geopm_agent_c(3)</a>,
<a class="reference external" href="geopmagent.1.html">geopmagent(1)</a>,
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="geopm_agent_energy_efficient.7.html" class="btn btn-neutral float-left" title="geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geopm_agent_monitor.7.html" class="btn btn-neutral float-right" title="geopm_agent_monitor(7) -- agent implementation for aggregating statistics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015 - 2022, Intel Corporation. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>