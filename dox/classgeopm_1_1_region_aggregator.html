<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: geopm::RegionAggregator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">geopm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeopm.html">geopm</a></li><li class="navelem"><a class="el" href="classgeopm_1_1_region_aggregator.html">RegionAggregator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeopm_1_1_region_aggregator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geopm::RegionAggregator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_region_aggregator_8hpp_source.html">RegionAggregator.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for geopm::RegionAggregator:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_region_aggregator__inherit__graph.png" border="0" usemap="#geopm_1_1_region_aggregator_inherit__map" alt="Inheritance graph"/></div>
<map name="geopm_1_1_region_aggregator_inherit__map" id="geopm_1_1_region_aggregator_inherit__map">
<area shape="rect" id="node2" href="classgeopm_1_1_i_region_aggregator.html" title="geopm::IRegionAggregator" alt="" coords="5,5,181,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for geopm::RegionAggregator:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_region_aggregator__coll__graph.png" border="0" usemap="#geopm_1_1_region_aggregator_coll__map" alt="Collaboration graph"/></div>
<map name="geopm_1_1_region_aggregator_coll__map" id="geopm_1_1_region_aggregator_coll__map">
<area shape="rect" id="node2" href="classgeopm_1_1_i_region_aggregator.html" title="geopm::IRegionAggregator" alt="" coords="5,5,181,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ade7df98fa164a0c7fa5f0c8b0209d9f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#ade7df98fa164a0c7fa5f0c8b0209d9f2">RegionAggregator</a> ()</td></tr>
<tr class="separator:ade7df98fa164a0c7fa5f0c8b0209d9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6cdc0ca95324eed10f2a9b980795092"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#ac6cdc0ca95324eed10f2a9b980795092">RegionAggregator</a> (<a class="el" href="classgeopm_1_1_i_platform_i_o.html">IPlatformIO</a> &amp;platio)</td></tr>
<tr class="separator:ac6cdc0ca95324eed10f2a9b980795092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5603da458f24c29f1e7ab85f99d21f04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#a5603da458f24c29f1e7ab85f99d21f04">init</a> (void) override</td></tr>
<tr class="memdesc:a5603da458f24c29f1e7ab85f99d21f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push required PlatformIO signals (EPOCH_COUNT).  <a href="#a5603da458f24c29f1e7ab85f99d21f04">More...</a><br /></td></tr>
<tr class="separator:a5603da458f24c29f1e7ab85f99d21f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7dd343bc3212209bf8670ce2e28c2e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#ae7dd343bc3212209bf8670ce2e28c2e5">push_signal_total</a> (const std::string &amp;signal_idx, int domain_type, int domain_idx) override</td></tr>
<tr class="memdesc:ae7dd343bc3212209bf8670ce2e28c2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a signal to be accumulated per-region. It must be a valid signal available through PlatformIO. Note that unlike other signals this is a total accumulated per region by subtracting the value of the signal at the region exit from the region entry. Region entry and exit are not exact and are determined by the value of the REGION_HASH signal at the time of <a class="el" href="classgeopm_1_1_region_aggregator.html#abe8dc1bbe8a131adc0d460480e391529" title="Update stored totals for each signal after PlatformIO::read_batch has been called. This should be called with every PlatformIO update because sample_total() maybe not be called until the end of execution. ">read_batch()</a>. This aggregation should only be used for signals that are monotonically increasing, such as time.  <a href="#ae7dd343bc3212209bf8670ce2e28c2e5">More...</a><br /></td></tr>
<tr class="separator:ae7dd343bc3212209bf8670ce2e28c2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c961b3bd9ccd35457c2605e27d546e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#a15c961b3bd9ccd35457c2605e27d546e">sample_total</a> (int signal_idx, uint64_t region_hash) override</td></tr>
<tr class="memdesc:a15c961b3bd9ccd35457c2605e27d546e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample a signal that has been pushed to accumlate as per-region values. Note that unlike other signals this is a total accumulated per region by subtracting the value of the signal at the region exit from the region entry. Region entry and exit are not exact and are determined by the value of the REGION_HASH signal at the time of <a class="el" href="classgeopm_1_1_region_aggregator.html#abe8dc1bbe8a131adc0d460480e391529" title="Update stored totals for each signal after PlatformIO::read_batch has been called. This should be called with every PlatformIO update because sample_total() maybe not be called until the end of execution. ">read_batch()</a>.  <a href="#a15c961b3bd9ccd35457c2605e27d546e">More...</a><br /></td></tr>
<tr class="separator:a15c961b3bd9ccd35457c2605e27d546e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8dc1bbe8a131adc0d460480e391529"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#abe8dc1bbe8a131adc0d460480e391529">read_batch</a> (void) override</td></tr>
<tr class="memdesc:abe8dc1bbe8a131adc0d460480e391529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update stored totals for each signal after PlatformIO::read_batch has been called. This should be called with every PlatformIO update because <a class="el" href="classgeopm_1_1_region_aggregator.html#a15c961b3bd9ccd35457c2605e27d546e" title="Sample a signal that has been pushed to accumlate as per-region values. Note that unlike other signal...">sample_total()</a> maybe not be called until the end of execution.  <a href="#abe8dc1bbe8a131adc0d460480e391529">More...</a><br /></td></tr>
<tr class="separator:abe8dc1bbe8a131adc0d460480e391529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad181b60e6ff17b68c42e0cb1412ceaa4"><td class="memItemLeft" align="right" valign="top">std::set&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_region_aggregator.html#ad181b60e6ff17b68c42e0cb1412ceaa4">tracked_region_hash</a> (void) const override</td></tr>
<tr class="memdesc:ad181b60e6ff17b68c42e0cb1412ceaa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the set of region hashes tracked by this object.  <a href="#ad181b60e6ff17b68c42e0cb1412ceaa4">More...</a><br /></td></tr>
<tr class="separator:ad181b60e6ff17b68c42e0cb1412ceaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgeopm_1_1_i_region_aggregator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgeopm_1_1_i_region_aggregator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgeopm_1_1_i_region_aggregator.html">geopm::IRegionAggregator</a></td></tr>
<tr class="memitem:a20f78021ae5fdd8ba5d141eebf7dc4b7 inherit pub_methods_classgeopm_1_1_i_region_aggregator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_region_aggregator.html#a20f78021ae5fdd8ba5d141eebf7dc4b7">IRegionAggregator</a> ()=default</td></tr>
<tr class="separator:a20f78021ae5fdd8ba5d141eebf7dc4b7 inherit pub_methods_classgeopm_1_1_i_region_aggregator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27161fea6e2ca06558e759bb90211094 inherit pub_methods_classgeopm_1_1_i_region_aggregator"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_region_aggregator.html#a27161fea6e2ca06558e759bb90211094">~IRegionAggregator</a> ()=default</td></tr>
<tr class="separator:a27161fea6e2ca06558e759bb90211094 inherit pub_methods_classgeopm_1_1_i_region_aggregator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ade7df98fa164a0c7fa5f0c8b0209d9f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7df98fa164a0c7fa5f0c8b0209d9f2">&#9670;&nbsp;</a></span>RegionAggregator() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::RegionAggregator::RegionAggregator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6cdc0ca95324eed10f2a9b980795092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6cdc0ca95324eed10f2a9b980795092">&#9670;&nbsp;</a></span>RegionAggregator() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::RegionAggregator::RegionAggregator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgeopm_1_1_i_platform_i_o.html">IPlatformIO</a> &amp;&#160;</td>
          <td class="paramname"><em>platio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5603da458f24c29f1e7ab85f99d21f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5603da458f24c29f1e7ab85f99d21f04">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::RegionAggregator::init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push required PlatformIO signals (EPOCH_COUNT). </p>

<p>Implements <a class="el" href="classgeopm_1_1_i_region_aggregator.html#aed13a9fedd5fb86425f5e026e98e6ece">geopm::IRegionAggregator</a>.</p>

</div>
</div>
<a id="ae7dd343bc3212209bf8670ce2e28c2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7dd343bc3212209bf8670ce2e28c2e5">&#9670;&nbsp;</a></span>push_signal_total()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int geopm::RegionAggregator::push_signal_total </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>signal_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>domain_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>domain_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push a signal to be accumulated per-region. It must be a valid signal available through PlatformIO. Note that unlike other signals this is a total accumulated per region by subtracting the value of the signal at the region exit from the region entry. Region entry and exit are not exact and are determined by the value of the REGION_HASH signal at the time of <a class="el" href="classgeopm_1_1_region_aggregator.html#abe8dc1bbe8a131adc0d460480e391529" title="Update stored totals for each signal after PlatformIO::read_batch has been called. This should be called with every PlatformIO update because sample_total() maybe not be called until the end of execution. ">read_batch()</a>. This aggregation should only be used for signals that are monotonically increasing, such as time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal_name</td><td>Name of the signal to sample and aggregate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">domain_type</td><td>Domain type over which the region hash and signal should be sampled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">domain_idx</td><td>Domain over which the region hash and signal should be sampled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Index of signal to be used with sample(). This index matches the return value of PlatformIO::push_signal() for the same signal. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_region_aggregator.html#ad9edd2842a441aecc711ed14bd613239">geopm::IRegionAggregator</a>.</p>

</div>
</div>
<a id="abe8dc1bbe8a131adc0d460480e391529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe8dc1bbe8a131adc0d460480e391529">&#9670;&nbsp;</a></span>read_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::RegionAggregator::read_batch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update stored totals for each signal after PlatformIO::read_batch has been called. This should be called with every PlatformIO update because <a class="el" href="classgeopm_1_1_region_aggregator.html#a15c961b3bd9ccd35457c2605e27d546e" title="Sample a signal that has been pushed to accumlate as per-region values. Note that unlike other signal...">sample_total()</a> maybe not be called until the end of execution. </p>

<p>Implements <a class="el" href="classgeopm_1_1_i_region_aggregator.html#aeb37aed7311ce591b446ebab3124aa7c">geopm::IRegionAggregator</a>.</p>

</div>
</div>
<a id="a15c961b3bd9ccd35457c2605e27d546e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c961b3bd9ccd35457c2605e27d546e">&#9670;&nbsp;</a></span>sample_total()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double geopm::RegionAggregator::sample_total </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signal_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>region_hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sample a signal that has been pushed to accumlate as per-region values. Note that unlike other signals this is a total accumulated per region by subtracting the value of the signal at the region exit from the region entry. Region entry and exit are not exact and are determined by the value of the REGION_HASH signal at the time of <a class="el" href="classgeopm_1_1_region_aggregator.html#abe8dc1bbe8a131adc0d460480e391529" title="Update stored totals for each signal after PlatformIO::read_batch has been called. This should be called with every PlatformIO update because sample_total() maybe not be called until the end of execution. ">read_batch()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal_idx</td><td>Index returned by a previous call to push_signal_total. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">region_hash</td><td>The region hash to look up data for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Total accumulated value for the signal for one region. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_region_aggregator.html#afa5aa3b61a981446d35ac32aab2d0fb6">geopm::IRegionAggregator</a>.</p>

</div>
</div>
<a id="ad181b60e6ff17b68c42e0cb1412ceaa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad181b60e6ff17b68c42e0cb1412ceaa4">&#9670;&nbsp;</a></span>tracked_region_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;uint64_t&gt; geopm::RegionAggregator::tracked_region_hash </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the set of region hashes tracked by this object. </p>

<p>Implements <a class="el" href="classgeopm_1_1_i_region_aggregator.html#af43e1389974f06c5a253b69ef46c1879">geopm::IRegionAggregator</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="_region_aggregator_8hpp_source.html">RegionAggregator.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
