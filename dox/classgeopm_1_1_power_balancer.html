<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: geopm::PowerBalancer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">geopm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeopm.html">geopm</a></li><li class="navelem"><a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeopm_1_1_power_balancer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geopm::PowerBalancer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_power_balancer_8hpp_source.html">PowerBalancer.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for geopm::PowerBalancer:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_power_balancer__inherit__graph.png" border="0" usemap="#geopm_1_1_power_balancer_inherit__map" alt="Inheritance graph"/></div>
<map name="geopm_1_1_power_balancer_inherit__map" id="geopm_1_1_power_balancer_inherit__map">
<area shape="rect" id="node2" href="classgeopm_1_1_i_power_balancer.html" title="Stay within a power cap but redistribute power to optimize performance. An average per compute node p..." alt="" coords="5,5,165,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for geopm::PowerBalancer:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_power_balancer__coll__graph.png" border="0" usemap="#geopm_1_1_power_balancer_coll__map" alt="Collaboration graph"/></div>
<map name="geopm_1_1_power_balancer_coll__map" id="geopm_1_1_power_balancer_coll__map">
<area shape="rect" id="node2" href="classgeopm_1_1_i_power_balancer.html" title="Stay within a power cap but redistribute power to optimize performance. An average per compute node p..." alt="" coords="5,5,165,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac15a1059039d06a9ce847ad50ba4254d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#ac15a1059039d06a9ce847ad50ba4254d">PowerBalancer</a> (double ctl_latency, double trial_delta, int num_sample, double measure_duration)</td></tr>
<tr class="memdesc:ac15a1059039d06a9ce847ad50ba4254d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a testable <a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> object.  <a href="#ac15a1059039d06a9ce847ad50ba4254d">More...</a><br /></td></tr>
<tr class="separator:ac15a1059039d06a9ce847ad50ba4254d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2150477fb0f67c90797df45dfeb45463"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a2150477fb0f67c90797df45dfeb45463">PowerBalancer</a> (double ctl_latency)</td></tr>
<tr class="memdesc:a2150477fb0f67c90797df45dfeb45463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> object.  <a href="#a2150477fb0f67c90797df45dfeb45463">More...</a><br /></td></tr>
<tr class="separator:a2150477fb0f67c90797df45dfeb45463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4599b55e3f9b129927461e6dea779eed"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a4599b55e3f9b129927461e6dea779eed">~PowerBalancer</a> ()=default</td></tr>
<tr class="memdesc:a4599b55e3f9b129927461e6dea779eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a <a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> object.  <a href="#a4599b55e3f9b129927461e6dea779eed">More...</a><br /></td></tr>
<tr class="separator:a4599b55e3f9b129927461e6dea779eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fabe2ce070e68d11a34bd18e72dbbfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a0fabe2ce070e68d11a34bd18e72dbbfa">power_cap</a> (double cap) override</td></tr>
<tr class="memdesc:a0fabe2ce070e68d11a34bd18e72dbbfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be called at the start of application execution with the average power cap across compute nodes. Should be called at the end of the second phase of execution to note that the power savings made across all compute nodes has been evenly redistributed.  <a href="#a0fabe2ce070e68d11a34bd18e72dbbfa">More...</a><br /></td></tr>
<tr class="separator:a0fabe2ce070e68d11a34bd18e72dbbfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659feaadee34b881cd25cd080006649a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a659feaadee34b881cd25cd080006649a">power_cap</a> (void) const override</td></tr>
<tr class="memdesc:a659feaadee34b881cd25cd080006649a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current power cap which cannot be exceeded without breaking contract that the average power budget across all compute nodes is maintained.  <a href="#a659feaadee34b881cd25cd080006649a">More...</a><br /></td></tr>
<tr class="separator:a659feaadee34b881cd25cd080006649a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5428c595f9bcebfaccb11722f71d4657"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a5428c595f9bcebfaccb11722f71d4657">power_limit</a> (void) const override</td></tr>
<tr class="memdesc:a5428c595f9bcebfaccb11722f71d4657"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current power limit prescribed for this node.  <a href="#a5428c595f9bcebfaccb11722f71d4657">More...</a><br /></td></tr>
<tr class="separator:a5428c595f9bcebfaccb11722f71d4657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94803b7a6d8eddc0921aa42296c704fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a94803b7a6d8eddc0921aa42296c704fb">power_limit_adjusted</a> (double limit) override</td></tr>
<tr class="memdesc:a94803b7a6d8eddc0921aa42296c704fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify power balancer that a new limit has been set with the governor.  <a href="#a94803b7a6d8eddc0921aa42296c704fb">More...</a><br /></td></tr>
<tr class="separator:a94803b7a6d8eddc0921aa42296c704fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9c5c421af129e2f9c0454463d1e682f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#ac9c5c421af129e2f9c0454463d1e682f">is_runtime_stable</a> (double measured_runtime) override</td></tr>
<tr class="memdesc:ac9c5c421af129e2f9c0454463d1e682f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the object with a runtime measured under the current power limit and test if the current runtime sample is reliable such that a call <a class="el" href="classgeopm_1_1_i_power_balancer.html#acda9dc3de1d5054d77582b208d1ae75d" title="Return the expected execution time of an application epoch under the current power limit...">runtime_sample()</a> can be made.  <a href="#ac9c5c421af129e2f9c0454463d1e682f">More...</a><br /></td></tr>
<tr class="separator:ac9c5c421af129e2f9c0454463d1e682f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872843ece4bd589133de53d16c66684e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a872843ece4bd589133de53d16c66684e">runtime_sample</a> (void) const override</td></tr>
<tr class="memdesc:a872843ece4bd589133de53d16c66684e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the expected execution time of an application epoch under the current power limit.  <a href="#a872843ece4bd589133de53d16c66684e">More...</a><br /></td></tr>
<tr class="separator:a872843ece4bd589133de53d16c66684e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734b5810beab4b2e4cb33012bc0fb6ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a734b5810beab4b2e4cb33012bc0fb6ac">calculate_runtime_sample</a> (void) override</td></tr>
<tr class="memdesc:a734b5810beab4b2e4cb33012bc0fb6ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample the measured runtimes under the current power cap in the first phase of execution. This measurement will be aggregated across all compute nodes to find the largest runtime measured.  <a href="#a734b5810beab4b2e4cb33012bc0fb6ac">More...</a><br /></td></tr>
<tr class="separator:a734b5810beab4b2e4cb33012bc0fb6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96259de213b0caab2189121d0de2fd68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a96259de213b0caab2189121d0de2fd68">target_runtime</a> (double largest_runtime) override</td></tr>
<tr class="separator:a96259de213b0caab2189121d0de2fd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7233979db7feb20a3b38bf5aef59db9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#ad7233979db7feb20a3b38bf5aef59db9">is_target_met</a> (double measured_runtime) override</td></tr>
<tr class="memdesc:ad7233979db7feb20a3b38bf5aef59db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">During the second phase of execution the power limit is decreased until the epoch runtime on the compute node under management has increased to the runtime of the slowest compute node. This method is used to update the object with a new measurement and also test if the current power limit meets the requirements. If the method returns false, then the value returned by <a class="el" href="classgeopm_1_1_i_power_balancer.html#a36295df2b17c47db8fc6ccaf36356a6b" title="Returns the current power limit prescribed for this node. ">power_limit()</a> may have been updated. The new power limit should be enforced for the next epoch execution.  <a href="#ad7233979db7feb20a3b38bf5aef59db9">More...</a><br /></td></tr>
<tr class="separator:ad7233979db7feb20a3b38bf5aef59db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dff4150208ac99859186d10bee40c3a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_power_balancer.html#a8dff4150208ac99859186d10bee40c3a">power_slack</a> (void) override</td></tr>
<tr class="memdesc:a8dff4150208ac99859186d10bee40c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the difference between the last power cap setting and the current power limit. If this method is called and it returns zero then the trial delta used to lower the power limit is reduced by a factor of two.  <a href="#a8dff4150208ac99859186d10bee40c3a">More...</a><br /></td></tr>
<tr class="separator:a8dff4150208ac99859186d10bee40c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgeopm_1_1_i_power_balancer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgeopm_1_1_i_power_balancer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgeopm_1_1_i_power_balancer.html">geopm::IPowerBalancer</a></td></tr>
<tr class="memitem:a8d7ca21846b5410e900101d8d7fb35d8 inherit pub_methods_classgeopm_1_1_i_power_balancer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_power_balancer.html#a8d7ca21846b5410e900101d8d7fb35d8">IPowerBalancer</a> ()=default</td></tr>
<tr class="memdesc:a8d7ca21846b5410e900101d8d7fb35d8 inherit pub_methods_classgeopm_1_1_i_power_balancer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classgeopm_1_1_i_power_balancer.html" title="Stay within a power cap but redistribute power to optimize performance. An average per compute node p...">IPowerBalancer</a> object.  <a href="classgeopm_1_1_i_power_balancer.html#a8d7ca21846b5410e900101d8d7fb35d8">More...</a><br /></td></tr>
<tr class="separator:a8d7ca21846b5410e900101d8d7fb35d8 inherit pub_methods_classgeopm_1_1_i_power_balancer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114bbffc57cf5bb945cfc5db51f11fb0 inherit pub_methods_classgeopm_1_1_i_power_balancer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_i_power_balancer.html#a114bbffc57cf5bb945cfc5db51f11fb0">~IPowerBalancer</a> ()=default</td></tr>
<tr class="memdesc:a114bbffc57cf5bb945cfc5db51f11fb0 inherit pub_methods_classgeopm_1_1_i_power_balancer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a <a class="el" href="classgeopm_1_1_i_power_balancer.html" title="Stay within a power cap but redistribute power to optimize performance. An average per compute node p...">IPowerBalancer</a> object.  <a href="classgeopm_1_1_i_power_balancer.html#a114bbffc57cf5bb945cfc5db51f11fb0">More...</a><br /></td></tr>
<tr class="separator:a114bbffc57cf5bb945cfc5db51f11fb0 inherit pub_methods_classgeopm_1_1_i_power_balancer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac15a1059039d06a9ce847ad50ba4254d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac15a1059039d06a9ce847ad50ba4254d">&#9670;&nbsp;</a></span>PowerBalancer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::PowerBalancer::PowerBalancer </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ctl_latency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>trial_delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>measure_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a testable <a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> object. </p>

</div>
</div>
<a id="a2150477fb0f67c90797df45dfeb45463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2150477fb0f67c90797df45dfeb45463">&#9670;&nbsp;</a></span>PowerBalancer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::PowerBalancer::PowerBalancer </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ctl_latency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> object. </p>

</div>
</div>
<a id="a4599b55e3f9b129927461e6dea779eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4599b55e3f9b129927461e6dea779eed">&#9670;&nbsp;</a></span>~PowerBalancer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual geopm::PowerBalancer::~PowerBalancer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy a <a class="el" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a734b5810beab4b2e4cb33012bc0fb6ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a734b5810beab4b2e4cb33012bc0fb6ac">&#9670;&nbsp;</a></span>calculate_runtime_sample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::PowerBalancer::calculate_runtime_sample </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sample the measured runtimes under the current power cap in the first phase of execution. This measurement will be aggregated across all compute nodes to find the largest runtime measured. </p>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#a5dd54920fdf9c1cdef843e718a671bc1">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="ac9c5c421af129e2f9c0454463d1e682f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9c5c421af129e2f9c0454463d1e682f">&#9670;&nbsp;</a></span>is_runtime_stable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool geopm::PowerBalancer::is_runtime_stable </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>measured_runtime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the object with a runtime measured under the current power limit and test if the current runtime sample is reliable such that a call <a class="el" href="classgeopm_1_1_i_power_balancer.html#acda9dc3de1d5054d77582b208d1ae75d" title="Return the expected execution time of an application epoch under the current power limit...">runtime_sample()</a> can be made. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">measured_runtime</td><td>Most recent measurement of the execution time for an epoch on the node being managed under the current power limit. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a stable measurement of expected runtime for an epoch can be made with the <a class="el" href="classgeopm_1_1_i_power_balancer.html#acda9dc3de1d5054d77582b208d1ae75d" title="Return the expected execution time of an application epoch under the current power limit...">runtime_sample()</a> method, and false otherwise. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#a55ca5a19cf5ffaba8e0111f891ba5e32">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="ad7233979db7feb20a3b38bf5aef59db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7233979db7feb20a3b38bf5aef59db9">&#9670;&nbsp;</a></span>is_target_met()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool geopm::PowerBalancer::is_target_met </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>measured_runtime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>During the second phase of execution the power limit is decreased until the epoch runtime on the compute node under management has increased to the runtime of the slowest compute node. This method is used to update the object with a new measurement and also test if the current power limit meets the requirements. If the method returns false, then the value returned by <a class="el" href="classgeopm_1_1_i_power_balancer.html#a36295df2b17c47db8fc6ccaf36356a6b" title="Returns the current power limit prescribed for this node. ">power_limit()</a> may have been updated. The new power limit should be enforced for the next epoch execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">measured_runtime</td><td>Most recent measurement of the execution time for an epoch on the node being managed under the current power limit. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the current power limit is reliably close to the target runtime and excess power should be sent up to the root to be redistributed, and false if more trials are required. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#ae98450984f83399fecda6a007885f067">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a0fabe2ce070e68d11a34bd18e72dbbfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fabe2ce070e68d11a34bd18e72dbbfa">&#9670;&nbsp;</a></span>power_cap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::PowerBalancer::power_cap </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should be called at the start of application execution with the average power cap across compute nodes. Should be called at the end of the second phase of execution to note that the power savings made across all compute nodes has been evenly redistributed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">power_cap</td><td>The new maximum power limit equal to the current power limit plus the amount of power saved that is being redistributed. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#adba76127eef61854174e906049d0355a">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a659feaadee34b881cd25cd080006649a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659feaadee34b881cd25cd080006649a">&#9670;&nbsp;</a></span>power_cap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double geopm::PowerBalancer::power_cap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current power cap which cannot be exceeded without breaking contract that the average power budget across all compute nodes is maintained. </p>
<dl class="section return"><dt>Returns</dt><dd>The current value of the power cap. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#a7cb63b603f0269ef9d95d38d65c9bbb1">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a5428c595f9bcebfaccb11722f71d4657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5428c595f9bcebfaccb11722f71d4657">&#9670;&nbsp;</a></span>power_limit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double geopm::PowerBalancer::power_limit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current power limit prescribed for this node. </p>
<dl class="section return"><dt>Returns</dt><dd>The current power limit in units of Watts. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#a36295df2b17c47db8fc6ccaf36356a6b">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a94803b7a6d8eddc0921aa42296c704fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94803b7a6d8eddc0921aa42296c704fb">&#9670;&nbsp;</a></span>power_limit_adjusted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::PowerBalancer::power_limit_adjusted </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify power balancer that a new limit has been set with the governor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limit</td><td>limit that was set. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#a320b3736386c04cde1ac902c24ada1ba">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a8dff4150208ac99859186d10bee40c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dff4150208ac99859186d10bee40c3a">&#9670;&nbsp;</a></span>power_slack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double geopm::PowerBalancer::power_slack </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query the difference between the last power cap setting and the current power limit. If this method is called and it returns zero then the trial delta used to lower the power limit is reduced by a factor of two. </p>
<dl class="section return"><dt>Returns</dt><dd>The difference between the last power cap and the current power limit in units of Watts. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#a37bbe788a88345ef1163f2c0f26805d1">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a872843ece4bd589133de53d16c66684e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a872843ece4bd589133de53d16c66684e">&#9670;&nbsp;</a></span>runtime_sample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double geopm::PowerBalancer::runtime_sample </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the expected execution time of an application epoch under the current power limit. </p>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#acda9dc3de1d5054d77582b208d1ae75d">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<a id="a96259de213b0caab2189121d0de2fd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96259de213b0caab2189121d0de2fd68">&#9670;&nbsp;</a></span>target_runtime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::PowerBalancer::target_runtime </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>largest_runtime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Set</td><td>the target runtime which is the largest epoch execution time measured by any compute node since the application began or the last global increase to the power budget. </td></tr>
    <tr><td class="paramname">largest_runtime</td><td>The largest expected runtime for one epoch across all compute nodes under the current power budget. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeopm_1_1_i_power_balancer.html#adefdaf9bcb4cc3ac132cac3c48740a61">geopm::IPowerBalancer</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="_power_balancer_8hpp_source.html">PowerBalancer.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
