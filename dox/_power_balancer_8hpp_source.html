<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: src/PowerBalancer.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">geopm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PowerBalancer.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_power_balancer_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2015, 2016, 2017, 2018, 2019, Intel Corporation</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * are met:</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *     * Redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *       notice, this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *       notice, this list of conditions and the following disclaimer in</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *       the documentation and/or other materials provided with the</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *       distribution.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *     * Neither the name of Intel Corporation nor the names of its</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *       contributors may be used to endorse or promote products derived</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *       from this software without specific prior written permission.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY LOG OF THE USE</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#ifndef POWERBALANCER_HPP_INCLUDE</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#define POWERBALANCER_HPP_INCLUDE</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="geopm__time_8h.html">geopm_time.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacegeopm.html">geopm</a></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classgeopm_1_1_i_power_balancer.html">   46</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classgeopm_1_1_i_power_balancer.html">IPowerBalancer</a></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <a class="code" href="classgeopm_1_1_i_power_balancer.html#a8d7ca21846b5410e900101d8d7fb35d8">IPowerBalancer</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a114bbffc57cf5bb945cfc5db51f11fb0">~IPowerBalancer</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a7cb63b603f0269ef9d95d38d65c9bbb1">power_cap</a>(<span class="keywordtype">double</span> cap) = 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a7cb63b603f0269ef9d95d38d65c9bbb1">power_cap</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a36295df2b17c47db8fc6ccaf36356a6b">power_limit</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a320b3736386c04cde1ac902c24ada1ba">power_limit_adjusted</a>(<span class="keywordtype">double</span> limit) = 0;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a55ca5a19cf5ffaba8e0111f891ba5e32">is_runtime_stable</a>(<span class="keywordtype">double</span> measured_runtime) = 0;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#acda9dc3de1d5054d77582b208d1ae75d">runtime_sample</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a5dd54920fdf9c1cdef843e718a671bc1">calculate_runtime_sample</a>(<span class="keywordtype">void</span>) = 0;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#adefdaf9bcb4cc3ac132cac3c48740a61">target_runtime</a>(<span class="keywordtype">double</span> largest_runtime) = 0;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#ae98450984f83399fecda6a007885f067">is_target_met</a>(<span class="keywordtype">double</span> measured_runtime) = 0;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html#a37bbe788a88345ef1163f2c0f26805d1">power_slack</a>(<span class="keywordtype">void</span>) = 0;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    };</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code" href="classgeopm_1_1_i_circular_buffer.html">ICircularBuffer</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classgeopm_1_1_power_balancer.html">  137</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classgeopm_1_1_power_balancer.html">PowerBalancer</a> : <span class="keyword">public</span> <a class="code" href="classgeopm_1_1_i_power_balancer.html">IPowerBalancer</a></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <a class="code" href="classgeopm_1_1_power_balancer.html#ac15a1059039d06a9ce847ad50ba4254d">PowerBalancer</a>(<span class="keywordtype">double</span> ctl_latency, <span class="keywordtype">double</span> trial_delta, <span class="keywordtype">int</span> num_sample, <span class="keywordtype">double</span> measure_duration);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="classgeopm_1_1_power_balancer.html#ac15a1059039d06a9ce847ad50ba4254d">PowerBalancer</a>(<span class="keywordtype">double</span> ctl_latency);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a4599b55e3f9b129927461e6dea779eed">~PowerBalancer</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a659feaadee34b881cd25cd080006649a">power_cap</a>(<span class="keywordtype">double</span> cap) <span class="keyword">override</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a659feaadee34b881cd25cd080006649a">power_cap</a>(<span class="keywordtype">void</span>) <span class="keyword">const override</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a5428c595f9bcebfaccb11722f71d4657">power_limit</a>(<span class="keywordtype">void</span>) <span class="keyword">const override</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a94803b7a6d8eddc0921aa42296c704fb">power_limit_adjusted</a>(<span class="keywordtype">double</span> limit) <span class="keyword">override</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="classgeopm_1_1_power_balancer.html#ac9c5c421af129e2f9c0454463d1e682f">is_runtime_stable</a>(<span class="keywordtype">double</span> measured_runtime) <span class="keyword">override</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a872843ece4bd589133de53d16c66684e">runtime_sample</a>(<span class="keywordtype">void</span>) <span class="keyword">const override</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a734b5810beab4b2e4cb33012bc0fb6ac">calculate_runtime_sample</a>(<span class="keywordtype">void</span>) <span class="keyword">override</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a96259de213b0caab2189121d0de2fd68">target_runtime</a>(<span class="keywordtype">double</span> largest_runtime) <span class="keyword">override</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="classgeopm_1_1_power_balancer.html#ad7233979db7feb20a3b38bf5aef59db9">is_target_met</a>(<span class="keywordtype">double</span> measured_runtime) <span class="keyword">override</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="classgeopm_1_1_power_balancer.html#a8dff4150208ac99859186d10bee40c3a">power_slack</a>(<span class="keywordtype">void</span>) <span class="keyword">override</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">private</span>:</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordtype">bool</span> is_limit_stable(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> M_CONTROL_LATENCY;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> M_MIN_TRIAL_DELTA;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> M_MIN_NUM_SAMPLE;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> M_MIN_DURATION;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> M_RUNTIME_FRACTION;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordtype">int</span> m_num_sample;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="comment">// @brief Maximum power as set in last global budget</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="comment">//        increase.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordtype">double</span> m_power_cap;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="comment">// @brief Current power limit to get to target runtime</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="comment">//        which may be lower than the cap.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordtype">double</span> m_power_limit;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keyword">struct </span><a class="code" href="structgeopm__time__s.html">geopm_time_s</a> m_power_limit_change_time;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordtype">double</span> m_target_runtime;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordtype">double</span> m_trial_delta;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordtype">double</span> m_runtime_sample;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordtype">bool</span> m_is_target_met;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            std::unique_ptr&lt;ICircularBuffer&lt;double&gt; &gt; m_runtime_buffer;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            std::vector&lt;double&gt; m_runtime_vec;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    };</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a320b3736386c04cde1ac902c24ada1ba"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a320b3736386c04cde1ac902c24ada1ba">geopm::IPowerBalancer::power_limit_adjusted</a></div><div class="ttdeci">virtual void power_limit_adjusted(double limit)=0</div><div class="ttdoc">Notify power balancer that a new limit has been set with the governor. </div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a55ca5a19cf5ffaba8e0111f891ba5e32"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a55ca5a19cf5ffaba8e0111f891ba5e32">geopm::IPowerBalancer::is_runtime_stable</a></div><div class="ttdeci">virtual bool is_runtime_stable(double measured_runtime)=0</div><div class="ttdoc">Update the object with a runtime measured under the current power limit and test if the current runti...</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a8d7ca21846b5410e900101d8d7fb35d8"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a8d7ca21846b5410e900101d8d7fb35d8">geopm::IPowerBalancer::IPowerBalancer</a></div><div class="ttdeci">IPowerBalancer()=default</div><div class="ttdoc">Construct a IPowerBalancer object. </div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a659feaadee34b881cd25cd080006649a"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a659feaadee34b881cd25cd080006649a">geopm::PowerBalancer::power_cap</a></div><div class="ttdeci">double power_cap(void) const override</div><div class="ttdoc">The current power cap which cannot be exceeded without breaking contract that the average power budge...</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html">geopm::PowerBalancer</a></div><div class="ttdef"><b>Definition:</b> PowerBalancer.hpp:137</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a8dff4150208ac99859186d10bee40c3a"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a8dff4150208ac99859186d10bee40c3a">geopm::PowerBalancer::power_slack</a></div><div class="ttdeci">double power_slack(void) override</div><div class="ttdoc">Query the difference between the last power cap setting and the current power limit. If this method is called and it returns zero then the trial delta used to lower the power limit is reduced by a factor of two. </div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a872843ece4bd589133de53d16c66684e"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a872843ece4bd589133de53d16c66684e">geopm::PowerBalancer::runtime_sample</a></div><div class="ttdeci">double runtime_sample(void) const override</div><div class="ttdoc">Return the expected execution time of an application epoch under the current power limit...</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a5dd54920fdf9c1cdef843e718a671bc1"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a5dd54920fdf9c1cdef843e718a671bc1">geopm::IPowerBalancer::calculate_runtime_sample</a></div><div class="ttdeci">virtual void calculate_runtime_sample(void)=0</div><div class="ttdoc">Sample the measured runtimes under the current power cap in the first phase of execution. This measurement will be aggregated across all compute nodes to find the largest runtime measured. </div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a4599b55e3f9b129927461e6dea779eed"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a4599b55e3f9b129927461e6dea779eed">geopm::PowerBalancer::~PowerBalancer</a></div><div class="ttdeci">virtual ~PowerBalancer()=default</div><div class="ttdoc">Destroy a PowerBalancer object. </div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_adefdaf9bcb4cc3ac132cac3c48740a61"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#adefdaf9bcb4cc3ac132cac3c48740a61">geopm::IPowerBalancer::target_runtime</a></div><div class="ttdeci">virtual void target_runtime(double largest_runtime)=0</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_ac9c5c421af129e2f9c0454463d1e682f"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#ac9c5c421af129e2f9c0454463d1e682f">geopm::PowerBalancer::is_runtime_stable</a></div><div class="ttdeci">bool is_runtime_stable(double measured_runtime) override</div><div class="ttdoc">Update the object with a runtime measured under the current power limit and test if the current runti...</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a96259de213b0caab2189121d0de2fd68"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a96259de213b0caab2189121d0de2fd68">geopm::PowerBalancer::target_runtime</a></div><div class="ttdeci">void target_runtime(double largest_runtime) override</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_ae98450984f83399fecda6a007885f067"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#ae98450984f83399fecda6a007885f067">geopm::IPowerBalancer::is_target_met</a></div><div class="ttdeci">virtual bool is_target_met(double measured_runtime)=0</div><div class="ttdoc">During the second phase of execution the power limit is decreased until the epoch runtime on the comp...</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a94803b7a6d8eddc0921aa42296c704fb"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a94803b7a6d8eddc0921aa42296c704fb">geopm::PowerBalancer::power_limit_adjusted</a></div><div class="ttdeci">void power_limit_adjusted(double limit) override</div><div class="ttdoc">Notify power balancer that a new limit has been set with the governor. </div></div>
<div class="ttc" id="structgeopm__time__s_html"><div class="ttname"><a href="structgeopm__time__s.html">geopm_time_s</a></div><div class="ttdoc">structure to abstract the difference between a timespec on linux or a timeval on OSX. </div><div class="ttdef"><b>Definition:</b> geopm_time.h:116</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_ad7233979db7feb20a3b38bf5aef59db9"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#ad7233979db7feb20a3b38bf5aef59db9">geopm::PowerBalancer::is_target_met</a></div><div class="ttdeci">bool is_target_met(double measured_runtime) override</div><div class="ttdoc">During the second phase of execution the power limit is decreased until the epoch runtime on the comp...</div></div>
<div class="ttc" id="namespacegeopm_html"><div class="ttname"><a href="namespacegeopm.html">geopm</a></div><div class="ttdef"><b>Definition:</b> Agent.hpp:44</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a36295df2b17c47db8fc6ccaf36356a6b"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a36295df2b17c47db8fc6ccaf36356a6b">geopm::IPowerBalancer::power_limit</a></div><div class="ttdeci">virtual double power_limit(void) const =0</div><div class="ttdoc">Returns the current power limit prescribed for this node. </div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a734b5810beab4b2e4cb33012bc0fb6ac"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a734b5810beab4b2e4cb33012bc0fb6ac">geopm::PowerBalancer::calculate_runtime_sample</a></div><div class="ttdeci">void calculate_runtime_sample(void) override</div><div class="ttdoc">Sample the measured runtimes under the current power cap in the first phase of execution. This measurement will be aggregated across all compute nodes to find the largest runtime measured. </div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_acda9dc3de1d5054d77582b208d1ae75d"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#acda9dc3de1d5054d77582b208d1ae75d">geopm::IPowerBalancer::runtime_sample</a></div><div class="ttdeci">virtual double runtime_sample(void) const =0</div><div class="ttdoc">Return the expected execution time of an application epoch under the current power limit...</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a7cb63b603f0269ef9d95d38d65c9bbb1"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a7cb63b603f0269ef9d95d38d65c9bbb1">geopm::IPowerBalancer::power_cap</a></div><div class="ttdeci">virtual double power_cap(void) const =0</div><div class="ttdoc">The current power cap which cannot be exceeded without breaking contract that the average power budge...</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a114bbffc57cf5bb945cfc5db51f11fb0"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a114bbffc57cf5bb945cfc5db51f11fb0">geopm::IPowerBalancer::~IPowerBalancer</a></div><div class="ttdeci">virtual ~IPowerBalancer()=default</div><div class="ttdoc">Destroy a IPowerBalancer object. </div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html">geopm::IPowerBalancer</a></div><div class="ttdoc">Stay within a power cap but redistribute power to optimize performance. An average per compute node p...</div><div class="ttdef"><b>Definition:</b> PowerBalancer.hpp:46</div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_ac15a1059039d06a9ce847ad50ba4254d"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#ac15a1059039d06a9ce847ad50ba4254d">geopm::PowerBalancer::PowerBalancer</a></div><div class="ttdeci">PowerBalancer(double ctl_latency, double trial_delta, int num_sample, double measure_duration)</div><div class="ttdoc">Construct a testable PowerBalancer object. </div></div>
<div class="ttc" id="classgeopm_1_1_power_balancer_html_a5428c595f9bcebfaccb11722f71d4657"><div class="ttname"><a href="classgeopm_1_1_power_balancer.html#a5428c595f9bcebfaccb11722f71d4657">geopm::PowerBalancer::power_limit</a></div><div class="ttdeci">double power_limit(void) const override</div><div class="ttdoc">Returns the current power limit prescribed for this node. </div></div>
<div class="ttc" id="geopm__time_8h_html"><div class="ttname"><a href="geopm__time_8h.html">geopm_time.h</a></div></div>
<div class="ttc" id="classgeopm_1_1_i_circular_buffer_html"><div class="ttname"><a href="classgeopm_1_1_i_circular_buffer.html">geopm::ICircularBuffer</a></div><div class="ttdoc">Templated container for a circular buffer implementation. </div><div class="ttdef"><b>Definition:</b> CircularBuffer.hpp:48</div></div>
<div class="ttc" id="classgeopm_1_1_i_power_balancer_html_a37bbe788a88345ef1163f2c0f26805d1"><div class="ttname"><a href="classgeopm_1_1_i_power_balancer.html#a37bbe788a88345ef1163f2c0f26805d1">geopm::IPowerBalancer::power_slack</a></div><div class="ttdeci">virtual double power_slack(void)=0</div><div class="ttdoc">Query the difference between the last power cap setting and the current power limit. If this method is called and it returns zero then the trial delta used to lower the power limit is reduced by a factor of two. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
