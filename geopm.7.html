<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geopm(7) -- global extensible open power manager &mdash; GEOPM  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="geopmaccess(1) -- Access management for the GEOPM Service" href="geopmaccess.1.html" />
    <link rel="prev" title="Reference Manual" href="reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> GEOPM
            <img src="https://geopm.github.io/images/geopm-logo-clear.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="service.html">Guide for Service Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime.html">Guide for HPC Runtime Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Guide for Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Guide for GEOPM Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="reference.html#geopm-manual-pages">GEOPM Manual Pages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">geopm(7) -- global extensible open power manager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#job-launch">JOB LAUNCH</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-profiling">APPLICATION PROFILING</a></li>
<li class="toctree-l4"><a class="reference internal" href="#analysis-tools">ANALYSIS TOOLS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-agents">BUILT-IN AGENTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#runtime-control">RUNTIME CONTROL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#misc">MISC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plugin-extension">PLUGIN EXTENSION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#integration-with-pmpi">INTEGRATION WITH PMPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#integration-with-ompt">INTEGRATION WITH OMPT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#launching-the-runtime">LAUNCHING THE RUNTIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="#choosing-an-agent-and-policy">CHOOSING AN AGENT AND POLICY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interpreting-the-report">INTERPRETING THE REPORT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interpreting-the-trace">INTERPRETING THE TRACE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment">ENVIRONMENT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geopm-environment-variables">GEOPM ENVIRONMENT VARIABLES</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-environment-variables">OTHER ENVIRONMENT VARIABLES</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">SEE ALSO</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geopmaccess.1.html">geopmaccess(1) -- Access management for the GEOPM Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmadmin.1.html">geopmadmin(1) -- tool for geopm system administrators</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmagent.1.html">geopmagent(1) -- query agent information and create static policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmbench.1.html">geopmbench(1) -- synthetic benchmark application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmctl.1.html">geopmctl(1) -- geopm runtime control application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmendpoint.1.html">geopmendpoint(1) -- command line tool for dynamic policy control</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmlaunch.1.html">geopmlaunch(1) -- application launch wrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmread.1.html">geopmread(1) -- query platform information</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmsession.1.html">geopmsession(1) -- Command line interface for the geopm service batch read features</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmwrite.1.html">geopmwrite(1) -- modify platform state</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmdpy.7.html">geopmdpy(7) -- global extensible open power manager python daemon package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmpy.7.html">geopmpy(7) -- global extensible open power manager python package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_c.3.html">geopm_agent_c(3) -- query information about available agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_ctl_c.3.html">geopm_ctl_c(3) -- geopm runtime control thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_daemon_c.3.html">geopm_daemon_c(3) -- helpers for geopm daemons</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_endpoint_c.3.html">geopm_endpoint_c(3) -- dynamic policy control for resource management</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_error.3.html">geopm_error(3) -- error code descriptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_fortran.3.html">geopm_fortran(3) -- geopm fortran interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_hash.3.html">geopm_hash.h(3) -- helper methods for encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_imbalancer.3.html">geopm_imbalancer.h(3) -- set artificial runtime imbalance</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_c.3.html">geopm_pio_c(3) -- interfaces to query and modify platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_policystore_c.3.html">geopm_policystore_c(3) -- geopm resource policy store interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_prof_c.3.html">geopm_prof_c(3) -- application profiling interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_sched.3.html">geopm_sched.h(3) -- interface with Linux scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_time.3.html">geopm_time.h(3) -- helper methods for time</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_topo_c.3.html">geopm_topo_c(3) -- query platform component topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_version.3.html">geopm_version(3) -- geopm library version</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3) -- geopm agent plugin interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Agg.3.html">geopm::Agg(3) -- data aggregation functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CNLIOGroup.3.html">geopm::CNLIOGroup(3) -- IOGroup for interaction with Compute Node Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CircularBuffer.3.html">geopm::CircularBuffer(3) -- generic circular buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Comm.3.html">geopm::Comm(3) -- communication abstractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CpuinfoIOGroup.3.html">geopm::CpuinfoIOGroup(3) -- IOGroup for CPU frequency limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Daemon.3.html">geopm::Daemon(3) -- geopm daemon helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Endpoint.3.html">geopm::Endpoint(3) -- geopm endpoint interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_EnergyEfficientAgent.3.html">geopm::EnergyEfficientAgent(3) -- agent for saving energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_EnergyEfficientRegion.3.html">geopm::EnergyEfficientRegion(3) -- region frequency tuning history</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Exception.3.html">geopm::Exception(3) -- custom geopm exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Helper.3.html">geopm::Helper -- common helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_IOGroup.3.html">geopm::IOGroup(3) -- provides system values and settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MPIComm.3.html">geopm::MPIComm(3) -- implementation of Comm using MPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MSRIO.3.html">geopm::MSRIO(3) -- methods for reading and writing MSRs</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MSRIOGroup.3.html">geopm::MSRIOGroup -- IOGroup providing MSR-based signals and controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MonitorAgent.3.html">geopm::MonitorAgent -- agent that enforces no policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PlatformIO.3.html">geopm::PlatformIO(3) -- geopm platform interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PlatformTopo.3.html">geopm::PlatformTopo(3) -- platform topology information</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PluginFactory.3.html">geopm::PluginFactory(3) -- abstract factory for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerBalancer.3.html">geopm::PowerBalancer(3) -- balances power according to epoch runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerBalancerAgent.3.html">geopm::PowerBalancerAgent(3) -- agent optimizing performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerGovernor.3.html">geopm::PowerGovernor(3) -- enforces a power limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerGovernorAgent.3.html">geopm::PowerGovernorAgent(3) -- agent that enforces a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_ProfileIOGroup.3.html">geopm::ProfileIOGroup(3) -- IOGroup providing application signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_SampleAggregator.3.html">geopm::RegionAggregator(3) -- per-region aggregated signal data</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_SharedMemory.3.html">geopm::SharedMemory(3) -- abstractions for shared memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_TimeIOGroup.3.html">geopm::TimeIOGroup(3) -- IOGroup providing time signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_report.7.html">geopm_report(7) -- geopm summary report file</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_energy_efficient.7.html">geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_frequency_map.7.html">geopm_agent_frequency_map(7) -- agent for running regions at user selected frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7) -- agent implementation for aggregating statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7) -- agent optimizes performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7) -- agent enforces a power cap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#signals-and-controls">Signals and Controls</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GEOPM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="reference.html">Reference Manual</a> &raquo;</li>
      <li>geopm(7) -- global extensible open power manager</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/geopm.7.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="geopm-7-global-extensible-open-power-manager">
<h1>geopm(7) -- global extensible open power manager<a class="headerlink" href="#geopm-7-global-extensible-open-power-manager" title="Permalink to this headline"></a></h1>
<section id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>The Global Extensible Open Power Manager (GEOPM) is a framework for
exploring power and energy optimizations on heterogeneous platforms.</p>
</section>
<section id="job-launch">
<h2>JOB LAUNCH<a class="headerlink" href="#job-launch" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>: Application launch wrapper</p>
<p><a class="reference external" href="geopm_report.7.html">geopmreport(7)</a>: Reports produced by launch</p>
</section>
<section id="application-profiling">
<h2>APPLICATION PROFILING<a class="headerlink" href="#application-profiling" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopm_prof_c.3.html">geopm_prof_c(3)</a>: Application profiling interfaces</p>
<p><a class="reference external" href="geopm_fortran.3.html">geopm_fortran(3)</a>: GEOPM Fortran interfaces</p>
</section>
<section id="analysis-tools">
<h2>ANALYSIS TOOLS<a class="headerlink" href="#analysis-tools" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopmread.1.html">geopmread(1)</a>: Query platform information</p>
<p><a class="reference external" href="geopmwrite.1.html">geopmwrite(1)</a>: Modify platform state</p>
<p><a class="reference external" href="geopm_topo_c.3.html">geopm_topo_c(3)</a>: Query platform component topology</p>
<p><a class="reference external" href="geopm_pio_c.3.html">geopm_pio_c(3)</a>: Interfaces to query and modify platform</p>
<p><a class="reference external" href="geopmbench.1.html">geopmbench(1)</a>: Synthetic benchmark application</p>
</section>
<section id="built-in-agents">
<h2>BUILT-IN AGENTS<a class="headerlink" href="#built-in-agents" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7)</a>: Agent implementation that enforces no policies</p>
<p><a class="reference external" href="geopm_agent_energy_efficient.7.html">geopm_agent_energy_efficient(7)</a>: Agent for saving energy, also finds optimal region frequencies</p>
<p><a class="reference external" href="geopm_agent_frequency_map.7.html">geopm_agent_frequency_map(7)</a>: Agent for running regions at user selected frequencies</p>
<p><a class="reference external" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7)</a>: Agent that optimizes performance under a power cap</p>
<p><a class="reference external" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7)</a>: Agent that enforces a power cap</p>
</section>
<section id="runtime-control">
<h2>RUNTIME CONTROL<a class="headerlink" href="#runtime-control" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopm_ctl_c.3.html">geopm_ctl_c(3)</a>: GEOPM runtime control thread</p>
<p><a class="reference external" href="geopmctl.1.html">geopmctl(1)</a>: GEOPM runtime control application</p>
<p><a class="reference external" href="geopm_agent_c.3.html">geopm_agent_c(3)</a>: Query information about available agents</p>
<p><a class="reference external" href="geopmagent.1.html">geopmagent(1)</a>: Query agent information and create static policies</p>
<p><a class="reference external" href="geopmadmin.1.html">geopmadmin(1)</a>: Configure and check system wide GEOPM settings</p>
</section>
<section id="misc">
<h2>MISC<a class="headerlink" href="#misc" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopm_error.3.html">geopm_error(3)</a>: Error code descriptions</p>
<p><a class="reference external" href="geopm_version.3.html">geopm_version(3)</a>: GEOPM library version</p>
<p><a class="reference external" href="geopm_sched.3.html">geopm_sched(3)</a>: Interface with Linux scheduler</p>
<p><a class="reference external" href="geopm_time.3.html">geopm_time(3)</a>: Time related helper functions</p>
<p><a class="reference external" href="geopm_hash.3.html">geopm_hash(3)</a>: Numerical encoding helper functions</p>
</section>
<section id="plugin-extension">
<h2>PLUGIN EXTENSION<a class="headerlink" href="#plugin-extension" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="GEOPM_CXX_MAN_PluginFactory.3.html">geopm::PluginFactory(3)</a>: Plugin developer guide</p>
<p><a class="reference external" href="GEOPM_CXX_MAN_PlatformIO.3.html">geopm::PlatformIO(3)</a>: High level platform abstraction</p>
<p><a class="reference external" href="GEOPM_CXX_MAN_IOGroup.3.html">geopm::IOGroup(3)</a>: Plugin interface for platform</p>
<p><a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a>: Plugin interface for monitor/control</p>
</section>
<section id="integration-with-pmpi">
<h2>INTEGRATION WITH PMPI<a class="headerlink" href="#integration-with-pmpi" title="Permalink to this headline"></a></h2>
<p>Linking to libgeopm will define symbols that intercept the MPI
interface through PMPI.  This can be disabled with the configure time
option <code class="docutils literal notranslate"><span class="pre">--disable-mpi</span></code>, but is enabled by default.  See
<code class="docutils literal notranslate"><span class="pre">LD_DYNAMIC_WEAK</span></code> environment variable description below for the
runtime requirements of the PMPI design.  When using the GEOPM PMPI
interposition other profilers which use the same method will be in
conflict.  The GEOPM runtime can create an application performance
profile report and a trace of the application runtime.  As such, GEOPM
serves the role of an application profiler in addition to management
of power resources.  The report and trace generation are controlled by
the environment variables <code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT</span></code> and <code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE</span></code>; see
description below.</p>
</section>
<section id="integration-with-ompt">
<h2>INTEGRATION WITH OMPT<a class="headerlink" href="#integration-with-ompt" title="Permalink to this headline"></a></h2>
<p>Unless the GEOPM runtime is configured to disable OpenMP, the library
is compiled against the OpenMP runtime.  If the OpenMP implementation
that GEOPM is compiled against supports the OMPT callbacks, then GEOPM
will use the OMPT callbacks to wrap OpenMP parallel regions with calls
to <code class="docutils literal notranslate"><span class="pre">geopm_prof_enter()</span></code> and <code class="docutils literal notranslate"><span class="pre">geopm_prof_exit()</span></code>.  In this way, any
OpenMP parallel region not within another application-defined region
will be reported to the GEOPM runtime.  This will appear in the report
as a region name beginning with <code class="docutils literal notranslate"><span class="pre">&quot;[OMPT]&quot;</span></code> and referencing the object
file and function name containing the OpenMP parallel region e.g.</p>
<p><code class="docutils literal notranslate"><span class="pre">[OMPT]geopmbench:geopm::StreamModelRegion::run()</span></code></p>
<p>To expressly enable this feature, pass the <code class="docutils literal notranslate"><span class="pre">--enable-ompt</span></code> configure
flag at GEOPM configure time.  This will build and install the LLVM OpenMP
runtime configured to support OMPT if the default OpenMP runtime does
not support the OMPT callbacks.  Note that your compiler must be
compatible with the LLVM OpenMP ABI for extending it in this way.</p>
<p>This feature can be disabled on a per-run basis by setting the
<code class="docutils literal notranslate"><span class="pre">GEOPM_OMPT_DISABLE</span></code> environment variable, or by using the
<code class="docutils literal notranslate"><span class="pre">--geopm-ompt-disable</span></code> option in <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a></p>
</section>
<section id="launching-the-runtime">
<h2>LAUNCHING THE RUNTIME<a class="headerlink" href="#launching-the-runtime" title="Permalink to this headline"></a></h2>
<p>The recommended method for launching the GEOPM runtime is the job
launch wrapper script <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>.  See this man page for
details about the command line interface.  If <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> does
not provide an application launcher supported by your system, please
make a change request for support of the job launch method used on
your system at the github issues page:</p>
<p><a class="reference external" href="https://github.com/geopm/geopm/issues">https://github.com/geopm/geopm/issues</a></p>
<p>Also, consider porting your job launch command into the
<code class="docutils literal notranslate"><span class="pre">geopmpy.launcher</span></code> module and submitting a change request as described
in <code class="docutils literal notranslate"><span class="pre">CONTRIBUTING.md</span></code>.</p>
<p>If the job launch application is not supported by the <code class="docutils literal notranslate"><span class="pre">geopmpy.launcher</span></code>
the recommended method is to use the environment variables described
in this man page including the <code class="docutils literal notranslate"><span class="pre">GEOPM_CTL</span></code> environment variable.
If using the &quot;application&quot; launch method then the <a class="reference external" href="geopmctl.1.html">geopmctl(1)</a>
application should be launched in parallel.</p>
<p>There are legacy methods for launching the runtime programmatically.
These are documented in <a class="reference external" href="geopm_ctl_c.3.html">geopm_ctl_c(3)</a>, but are deprecated as an
application-facing interface because their use within an application
is incompatible with the GEOPM launcher script.</p>
</section>
<section id="choosing-an-agent-and-policy">
<h2>CHOOSING AN AGENT AND POLICY<a class="headerlink" href="#choosing-an-agent-and-policy" title="Permalink to this headline"></a></h2>
<p>The Agent determines the optimization algorithm performed by the
runtime, and can be specified with the <code class="docutils literal notranslate"><span class="pre">--geopm-agent</span></code> option for the
launcher.  If not specified, by default the <a class="reference external" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7)</a>
is used to collect runtime statistics only, which will be summarized
in the report.</p>
<p>The constraints for the Agent algorithm are determined by the policy.
The policy can be provided as a file, through the <code class="docutils literal notranslate"><span class="pre">--geopm-policy</span></code>
option for the launcher.  Policy files can be generated with the
<a class="reference external" href="geopmagent.1.html">geopmagent(1)</a> tool.  The values of the policy will be printed
in the header of the report.</p>
<p>If GEOPM has been configured with <code class="docutils literal notranslate"><span class="pre">--enable-beta</span></code>, policies can also
be set through the endpoint, which should be manipulated by a system
administrator through an authority such as the resource manager.  Use
of the endpoint is described in <a class="reference external" href="geopm_endpoint_c.3.html">geopm_endpoint_c(3)</a>.  In this
scenario, users launching GEOPM may not be required or allowed to
specify the Agent or policy, if it has been set through the default
environment as described in the <code class="docutils literal notranslate"><span class="pre">ENVIRONMENT</span></code> section below.  If not
specified in the default environment, the location of the endpoint
should be provided through <code class="docutils literal notranslate"><span class="pre">--geopm-endpoint</span></code>; this option supercedes
the use of <code class="docutils literal notranslate"><span class="pre">--geopm-policy</span></code>.  When GEOPM receives the policy through
the endpoint, the report will contain <code class="docutils literal notranslate"><span class="pre">&quot;DYNAMIC&quot;</span></code> for the value of the
policy.  The specific values received over time can be viewed through
use of the optional trace file enabled by
<code class="docutils literal notranslate"><span class="pre">--geopm-trace-endpoint-policy</span></code>.</p>
<p>Refer to <a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a> and the individual agent man pages for more
details on the behavior of the agents and their policies.  See
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> for more details on the <code class="docutils literal notranslate"><span class="pre">--geopm-agent</span></code>,
<code class="docutils literal notranslate"><span class="pre">--geopm-policy</span></code>, <code class="docutils literal notranslate"><span class="pre">--geopm-endpoint</span></code>, and
<code class="docutils literal notranslate"><span class="pre">--geopm-trace-endpoint-policy</span></code> options.</p>
</section>
<section id="interpreting-the-report">
<h2>INTERPRETING THE REPORT<a class="headerlink" href="#interpreting-the-report" title="Permalink to this headline"></a></h2>
<p>If the <code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT</span></code> environment variable is set then a report will
be generated.  There is one report file generated for each run.  The
format of the report, the data contained in it, and the controller's
sampling are described in <a class="reference external" href="geopm_report.7.html">geopm_report(7)</a>.</p>
</section>
<section id="interpreting-the-trace">
<h2>INTERPRETING THE TRACE<a class="headerlink" href="#interpreting-the-trace" title="Permalink to this headline"></a></h2>
<p>If the <code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE</span></code> environment variable is set (see below) then a
trace file with time ordered information about the application runtime
is generated.  A separate trace file is generated for each compute
node and each file is a pipe (the <code class="docutils literal notranslate"><span class="pre">|</span></code> character) delimited <strong>ASCII</strong>
table. The file begins with a header that is marked by lines that
start with the <code class="docutils literal notranslate"><span class="pre">#</span></code> character.  The header contains information about
the GEOPM version, job start time, profile name (job description), and
agent that were used during the run.</p>
<p>The first row following the header gives a description of each field.
A simple method for selecting fields from the trace file is with the
<code class="docutils literal notranslate"><span class="pre">awk</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ grep -v <span class="s1">&#39;^#&#39;</span> geopm.trace-host0 <span class="p">|</span> awk -F<span class="se">\|</span> <span class="s1">&#39;{print $1, $2, $11}&#39;</span>
</pre></div>
</div>
<p>will print a subset of the fields in the trace file called
<code class="docutils literal notranslate"><span class="pre">&quot;geopm.trace-host0&quot;</span></code>.</p>
</section>
<section id="environment">
<h2>ENVIRONMENT<a class="headerlink" href="#environment" title="Permalink to this headline"></a></h2>
<p>When using the launcher wrapper script <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>, the
interface to the GEOPM runtime is controlled by the launcher command
line options.  The launcher script sets the environment variables
described in this section according to the options specified on the
command line.  Direct use of these environment variables is only
recommended when launching the GEOPM runtime <em>without</em>
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>.  If launching the GEOPM controller in application
mode without <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>, the environment variables documented
below must be set to the same values in the contexts where
<a class="reference external" href="geopmctl.1.html">geopmctl(1)</a> and the compute application are executed.</p>
<p>In addition to the environment, there are two node-local configuration
files that will impact the way the GEOPM behaves.  The location of
these files can be configured at compile time, but the default
locations are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">geopm</span><span class="o">/</span><span class="n">environment</span><span class="o">-</span><span class="n">default</span><span class="o">.</span><span class="n">json</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">geopm</span><span class="o">/</span><span class="n">environment</span><span class="o">-</span><span class="n">override</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>The <a class="reference external" href="geopmadmin.1.html">geopmadmin(1)</a> tool can be used to display the location of
these files for your installation of GEOPM or to check the validity of
the system configuration.  These files contain JSON objects that map
GEOPM environment variables to default or override values.  The
<code class="docutils literal notranslate"><span class="pre">environment-default.json</span></code> file will determine default values for the
GEOPM runtime in the case where the values are not set in the calling
environment.  The <code class="docutils literal notranslate"><span class="pre">environment-override.json</span></code> file will enforce that
any GEOPM process running on the compute node will use the values
specified regardless of the values set in the calling environment.</p>
</section>
<section id="geopm-environment-variables">
<h2>GEOPM ENVIRONMENT VARIABLES<a class="headerlink" href="#geopm-environment-variables" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-report</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT_SIGNALS</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-report-signals</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-trace</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE_SIGNALS</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-trace-signals</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE_PROFILE</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-trace-profile</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE_ENDPOINT_POLICY</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-trace-endpoint-policy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_PROFILE</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-profile</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_CTL</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-ctl</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_AGENT</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-agent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_POLICY</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-policy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_ENDPOINT</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-endpoint</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_SHMKEY</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-shmkey</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_TIMEOUT</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-timeout</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_PLUGIN_PATH</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-plugin-path</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_DEBUG_ATTACH</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-debug-attach</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_DISABLE_HYPERTHREADS</span></code>:
See documentation for equivalent command line option to
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> called <code class="docutils literal notranslate"><span class="pre">--geopm-hyperthreads-disable</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GEOPM_OMPT_DISABLE</span></code>:
Disable OpenMP region detection as described in <a class="reference internal" href="#integration-with-ompt">INTEGRATION WITH OMPT</a>.
See documentation for equivalent command line option to <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>
called <code class="docutils literal notranslate"><span class="pre">--geopm-ompt-disable</span></code>.</p></li>
</ul>
</section>
<section id="other-environment-variables">
<h2>OTHER ENVIRONMENT VARIABLES<a class="headerlink" href="#other-environment-variables" title="Permalink to this headline"></a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">LD_DYNAMIC_WEAK</span></code>:
The <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> tool will preload <code class="docutils literal notranslate"><span class="pre">libgeopm.so</span></code> for all
applications, so the use of <code class="docutils literal notranslate"><span class="pre">LD_DYNAMIC_WEAK</span></code> is not required when
using <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>.  When not using <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>
setting <code class="docutils literal notranslate"><span class="pre">LD_DYNAMIC_WEAK</span></code> may be required, see next paragraph for
details.</p>
<p>When dynamically linking an application to <code class="docutils literal notranslate"><span class="pre">libgeopm</span></code> for any
features supported by the PMPI profiling of the MPI runtime it may
be required that the <code class="docutils literal notranslate"><span class="pre">LD_DYNAMIC_WEAK</span></code> environment variable be set
at runtime as is documented in the <a class="reference external" href="http://man7.org/linux/man-pages/man8/ld.so.8.html">ld.so(8)</a> man page.  When
dynamically linking an application, if care is taken to link the
<code class="docutils literal notranslate"><span class="pre">libgeopm</span></code> library before linking the library providing the weak MPI
symbols, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;-lgeopm</span> <span class="pre">-lmpi&quot;</span></code>, linking order precedence will
enforce the required override of the MPI interface symbols and the
<code class="docutils literal notranslate"><span class="pre">LD_DYNAMIC_WEAK</span></code> environment variable is not required at runtime.</p>
</li>
</ul>
</section>
<section id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopmpy.7.html">geopmpy(7)</a>,
<a class="reference external" href="geopmdpy.7.html">geopmdpy(7)</a>,
<a class="reference external" href="geopm_agent_energy_efficient.7.html">geopm_agent_energy_efficient(7)</a>,
<a class="reference external" href="geopm_agent_frequency_map.7.html">geopm_agent_frequency_map(7)</a>,
<a class="reference external" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7)</a>,
<a class="reference external" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7)</a>,
<a class="reference external" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7)</a>,
<a class="reference external" href="geopm_report.7.html">geopm_report(7)</a>,
<a class="reference external" href="geopm_agent_c.3.html">geopm_agent_c(3)</a>,
<a class="reference external" href="geopm_ctl_c.3.html">geopm_ctl_c(3)</a>,
<a class="reference external" href="geopm_error.3.html">geopm_error(3)</a>,
<a class="reference external" href="geopm_fortran.3.html">geopm_fortran(3)</a>,
<a class="reference external" href="geopm_hash.3.html">geopm_hash(3)</a>,
<a class="reference external" href="geopm_policystore_c.3.html">geopm_policystore_c(3)</a>,
<a class="reference external" href="geopm_pio_c.3.html">geopm_pio_c(3)</a>,
<a class="reference external" href="geopm_prof_c.3.html">geopm_prof_c(3)</a>,
<a class="reference external" href="geopm_sched.3.html">geopm_sched(3)</a>,
<a class="reference external" href="geopm_time.3.html">geopm_time(3)</a>,
<a class="reference external" href="geopm_version.3.html">geopm_version(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_Agg.3.html">geopm::Agg(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_CircularBuffer.3.html">geopm::CircularBuffer(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_CpuinfoIOGroup.3.html">geopm::CpuinfoIOGroup(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_EnergyEfficientRegion.3.html">geopm::EnergyEfficientRegion(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_Exception.3.html">geopm::Exception(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_Helper.3.html">geopm::Helper(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_IOGroup.3.html">geopm::IOGroup(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_MSRIO.3.html">geopm::MSRIO(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_MSRIOGroup.3.html">geopm::MSRIOGroup(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_PlatformIO.3.html">geopm::PlatformIO(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_PlatformTopo.3.html">geopm::PlatformTopo(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_PluginFactory.3.html">geopm::PluginFactory(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_PowerBalancer.3.html">geopm::PowerBalancer(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_PowerGovernor.3.html">geopm::PowerGovernor(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_ProfileIOGroup.3.html">geopm::ProfileIOGroup(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_RegionAggregator.3.html">geopm::RegionAggregator(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_SharedMemory.3.html">geopm::SharedMemory(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_TimeIOGroup.3.html">geopm::TimeIOGroup(3)</a>,
<a class="reference external" href="geopmadmin.1.html">geopmadmin(1)</a>,
<a class="reference external" href="geopmagent.1.html">geopmagent(1)</a>,
<a class="reference external" href="geopmbench.1.html">geopmbench(1)</a>,
<a class="reference external" href="geopmctl.1.html">geopmctl(1)</a>,
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>,
<a class="reference external" href="geopmread.1.html">geopmread(1)</a>,
<a class="reference external" href="geopmwrite.1.html">geopmwrite(1)</a>,
<a class="reference external" href="geopmaccess.1.html">geopmaccess(1)</a>,
<a class="reference external" href="geopmsession.1.html">geopmsession(1)</a>,
<a class="reference external" href="http://man7.org/linux/man-pages/man8/ld.so.8.html">ld.so(8)</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="reference.html" class="btn btn-neutral float-left" title="Reference Manual" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geopmaccess.1.html" class="btn btn-neutral float-right" title="geopmaccess(1) -- Access management for the GEOPM Service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015 - 2022, Intel Corporation. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>