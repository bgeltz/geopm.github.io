<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geopm_report(7) -- geopm summary report file &mdash; GEOPM  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies" href="geopm_agent_energy_efficient.7.html" />
    <link rel="prev" title="geopm::TimeIOGroup(3) -- IOGroup providing time signals" href="GEOPM_CXX_MAN_TimeIOGroup.3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> GEOPM
            <img src="https://geopm.github.io/images/geopm-logo-clear.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="service.html">Guide for Service Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime.html">Guide for HPC Runtime Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Guide for Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Guide for GEOPM Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="reference.html#geopm-manual-pages">GEOPM Manual Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="geopm.7.html">geopm(7) -- global extensible open power manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmaccess.1.html">geopmaccess(1) -- Access management for the geopm service</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmadmin.1.html">geopmadmin(1) -- tool for geopm system administrators</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmagent.1.html">geopmagent(1) -- query agent information and create static policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmbench.1.html">geopmbench(1) -- synthetic benchmark application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmctl.1.html">geopmctl(1) -- geopm runtime control application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmendpoint.1.html">geopmendpoint(1) -- command line tool for dynamic policy control</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmlaunch.1.html">geopmlaunch(1) -- application launch wrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmplotter.1.html">geopmplotter(1) -- visualize reports and traces</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmread.1.html">geopmread(1) -- query platform information</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmsession.1.html">geopmsession(1) -- Command line interface for the geopm service read/write features</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmwrite.1.html">geopmwrite(1) -- modify platform state</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmdpy.7.html">geopmdpy(7) -- global extensible open power manager python daemon package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmpy.7.html">geopmpy(7) -- global extensible open power manager python package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_c.3.html">geopm_agent_c(3) -- query information about available agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_ctl_c.3.html">geopm_ctl_c(3) -- geopm runtime control thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_daemon_c.3.html">geopm_daemon_c(3) -- helpers for geopm daemons</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_endpoint_c.3.html">geopm_endpoint_c(3) -- dynamic policy control for resource management</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_error.3.html">geopm_error(3) -- error code descriptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_fortran.3.html">geopm_fortran(3) -- geopm fortran interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_hash.3.html">geopm_hash.h(3) -- helper methods for encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_imbalancer.3.html">geopm_imbalancer.h(3) -- set artificial runtime imbalance</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_c.3.html">geopm_pio_c(3) -- interfaces to query and modify platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_policystore_c.3.html">geopm_policystore_c(3) -- geopm resource policy store interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_prof_c.3.html">geopm_prof_c(3) -- application profiling interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_sched.3.html">geopm_sched.h(3) -- interface with Linux scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_time.3.html">geopm_time.h(3) -- helper methods for time</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_topo_c.3.html">geopm_topo_c(3) -- query platform component topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_version.3.html">geopm_version(3) -- geopm library version</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3) -- geopm agent plugin interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Agg.3.html">geopm::Agg(3) -- data aggregation functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CNLIOGroup.3.html">geopm::CNLIOGroup(3) -- IOGroup for interaction with Compute Node Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CircularBuffer.3.html">geopm::CircularBuffer(3) -- generic circular buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Comm.3.html">geopm::Comm(3) -- communication abstractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_CpuinfoIOGroup.3.html">geopm::CpuinfoIOGroup(3) -- IOGroup for CPU frequency limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Daemon.3.html">geopm::Daemon(3) -- geopm daemon helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Endpoint.3.html">geopm::Endpoint(3) -- geopm endpoint interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_EnergyEfficientAgent.3.html">geopm::EnergyEfficientAgent(3) -- agent for saving energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_EnergyEfficientRegion.3.html">geopm::EnergyEfficientRegion(3) -- region frequency tuning history</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Exception.3.html">geopm::Exception(3) -- custom geopm exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_Helper.3.html">geopm::Helper -- common helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_IOGroup.3.html">geopm::IOGroup(3) -- provides system values and settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MPIComm.3.html">geopm::MPIComm(3) -- implementation of Comm using MPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MSRIO.3.html">geopm::MSRIO(3) -- methods for reading and writing MSRs</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MSRIOGroup.3.html">geopm::MSRIOGroup -- IOGroup providing MSR-based signals and controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_MonitorAgent.3.html">geopm::MonitorAgent -- agent that enforces no policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PlatformIO.3.html">geopm::PlatformIO(3) -- geopm platform interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PlatformTopo.3.html">geopm::PlatformTopo(3) -- platform topology information</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PluginFactory.3.html">geopm::PluginFactory(3) -- abstract factory for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerBalancer.3.html">geopm::PowerBalancer(3) -- balances power according to epoch runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerBalancerAgent.3.html">geopm::PowerBalancerAgent(3) -- agent optimizing performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerGovernor.3.html">geopm::PowerGovernor(3) -- enforces a power limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_PowerGovernorAgent.3.html">geopm::PowerGovernorAgent(3) -- agent that enforces a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_ProfileIOGroup.3.html">geopm::ProfileIOGroup(3) -- IOGroup providing application signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_SampleAggregator.3.html">geopm::RegionAggregator(3) -- per-region aggregated signal data</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_SharedMemory.3.html">geopm::SharedMemory(3) -- abstractions for shared memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="GEOPM_CXX_MAN_TimeIOGroup.3.html">geopm::TimeIOGroup(3) -- IOGroup providing time signals</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">geopm_report(7) -- geopm summary report file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes-on-sampling">NOTES ON SAMPLING</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report-format">REPORT FORMAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">EXAMPLES</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">SEE ALSO</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_energy_efficient.7.html">geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_frequency_map.7.html">geopm_agent_frequency_map(7) -- agent for running regions at user selected frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7) -- agent implementation for aggregating statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7) -- agent optimizes performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7) -- agent enforces a power cap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#signals-and-controls">Signals and Controls</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GEOPM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="reference.html">Reference Manual</a> &raquo;</li>
      <li>geopm_report(7) -- geopm summary report file</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/geopm_report.7.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="geopm-report-7-geopm-summary-report-file">
<h1>geopm_report(7) -- geopm summary report file<a class="headerlink" href="#geopm-report-7-geopm-summary-report-file" title="Permalink to this headline"></a></h1>
<section id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>The GEOPM report is a YAML file containing summarized information
about runtimes, network usage, energy consumption, and other data
about an application's behavior on every compute node where it ran.
The report is broken into sections with totals for each compute node,
and further divided into sections detailing each application region
and epoch.  By default, the report will be saved into a file called
&quot;geopm.report&quot;, but this name can be customized with the GEOPM_REPORT
environment variable; refer to the description for <code class="docutils literal notranslate"><span class="pre">--geopm-report</span></code> in
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>.</p>
<p>The application regions and epoch are defined by use of the
<a class="reference external" href="geopm_prof_c.3.html">geopm_prof_c(3)</a> interface to mark up the user application, or
through automatic inference of regions based on interposing on the MPI
or OpenMP interfaces (interposing on OpenMP requires that OMPT is
enabled at GEOPM compile time, and the <code class="docutils literal notranslate"><span class="pre">--geopm-ompt-disable</span></code> option
is not provided to <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>). Alternatively, epochs may be
inserted automatically when <code class="docutils literal notranslate"><span class="pre">--geopm-record-filter</span></code> is used, as
described in <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a>.</p>
</section>
<section id="notes-on-sampling">
<h2>NOTES ON SAMPLING<a class="headerlink" href="#notes-on-sampling" title="Permalink to this headline"></a></h2>
<p>Most data in the report is derived from PlatformIO signals (described
in <a class="reference external" href="GEOPM_CXX_MAN_PlatformIO.3.html">geopm::PlatformIO(3)</a>) sampled at a rate determined by the
Agent::wait() implementation for the active agent (see
<a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a>).  If a sample is longer than the rate specified
by the agent, the subsequent sample may be shortened to correct the rate.
Every sample interval, all values of interest
to the report are read, and the delta values between the last sample
and current sample are calculated.  This delta is attributed to the
current region hash for the corresponding domain.  By default,
synchronous values in the report are aggregated to the board domain,
so deltas will be attributed to a region only when all active CPUs on
the compute node are in that region.  For example, synchronous time is
aggregated into the <code class="docutils literal notranslate"><span class="pre">sync-runtime</span> <span class="pre">(s)</span></code> field as the sum of all
delta(time) when all active cores on the node were in the same region.
User extensions through GEOPM_REPORT_SIGNALS may be aggregated to
smaller domains.  If any CPUs within the domain are in different
regions at the time of the sample, the delta value will be attributed
to the unmarked region.  Only active CPUs assigned to the application
are considered when determining the region to attribute values to.</p>
<p>Values that are the result of sampling (most fields except 'runtime'
and 'count') may include small contributions from adjacent regions,
especially if regions are very short.  The amount of slop depends on
the controller sample rate and the number of region entries.  Sampled
values should not be compared with the per-process average runtime
<code class="docutils literal notranslate"><span class="pre">runtime</span> <span class="pre">(s)</span></code>; use <code class="docutils literal notranslate"><span class="pre">sync-runtime</span> <span class="pre">(s)</span></code> instead.</p>
<p>Refer to the EXAMPLES section below.</p>
</section>
<section id="report-format">
<h2>REPORT FORMAT<a class="headerlink" href="#report-format" title="Permalink to this headline"></a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Header</span> <span class="pre">Fields</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">GEOPM</span> <span class="pre">Version</span></code>: The version of the GEOPM library and tools used</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">the</span> <span class="n">run</span><span class="o">.</span>  <span class="n">Note</span> <span class="n">that</span> <span class="k">if</span> <span class="n">building</span> <span class="kn">from</span> <span class="nn">source</span><span class="p">,</span>
<span class="o">./</span><span class="n">autogen</span><span class="o">.</span><span class="n">sh</span> <span class="n">must</span> <span class="n">be</span> <span class="n">rerun</span> <span class="n">to</span> <span class="n">update</span> <span class="n">the</span> <span class="n">version</span>
<span class="n">to</span> <span class="n">the</span> <span class="n">latest</span> <span class="n">git</span> <span class="n">SHA</span><span class="o">.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">Time</span></code>: The start time of the job recorded by the GEOPM</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">controller</span><span class="o">.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Profile</span></code>: The profile string, obtained from the GEOPM_PROFILE</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">environment</span> <span class="n">variable</span><span class="o">.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Agent</span></code>: The name of the agent, obtained from the GEOPM_AGENT</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">environment</span> <span class="n">variable</span><span class="o">.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Policy</span></code>: A JSON string containing the policy values as set in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GEOPM_POLICY</span><span class="p">,</span> <span class="ow">or</span> <span class="s2">&quot;DYNAMIC&quot;</span> <span class="k">if</span> <span class="n">the</span> <span class="n">policy</span> <span class="n">was</span> <span class="n">received</span>
<span class="n">through</span> <span class="n">the</span> <span class="n">endpoint</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Per-host</span> <span class="pre">Region,</span> <span class="pre">Epoch,</span> <span class="pre">and</span> <span class="pre">Application</span> <span class="pre">Totals</span></code>:</p></li>
</ul>
<p>Under the <code class="docutils literal notranslate"><span class="pre">Hosts</span></code> section of the report, each host in the job creates
a section with its hostname as the key.  Each host's section contains
<code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Totals</span></code>, the totals for each metric from the beginning to
the end of the job; <code class="docutils literal notranslate"><span class="pre">Epoch</span> <span class="pre">Totals</span></code>, the totals from the first detected
epoch to the end of the job; and <code class="docutils literal notranslate"><span class="pre">Regions</span></code>, the summarized data for
each region.</p>
<p>The fields in each of these sections are described below:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code>: Name of the region.  For user-defined regions, this is the</dt><dd><p>string passed to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code>; for automatically
detected OpenMP and MPI regions this is the function name.
See <a class="reference external" href="geopm_prof_c.3.html">geopm_prof_c(3)</a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hash</span></code>: The CRC32 hash of the region name.  This value is used by</dt><dd><p>agents to distinguish regions using the REGION_HASH signal
and also appears in the trace.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">runtime</span> <span class="pre">(s)</span></code>: The average across all processes of the total runtime</dt><dd><p>spent in the region.  For epoch totals, this is the
time from the first detected epoch to the end of the
application.  For application totals, this is the
time from the start to the end of the application,
corresponding to the MPI_Init() and MPI_Finalize()
calls.  This runtime is more accurate than
sync-runtime because it uses exact entry and exit
timestamps rather than the sampled REGION_HASH.  It
should not be used for comparisons with sampled
values below; use <code class="docutils literal notranslate"><span class="pre">sync-runtime</span></code> for comparisons
instead.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">count</span></code>: The total number of times this region was entered and</dt><dd><p>exited, averaged accross all processes.  Fractional counts
are possible if some processes entered a region a different
number of times.  For epoch totals, this is the total
number of detected epochs, averaged across all processes.
The count has no meaning for the unmarked region and
application totals.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sync-runtime</span> <span class="pre">(s)</span></code>: Total time for which the sampled region hash</dt><dd><p>matched this region on all CPUs on the compute
node.  For epoch and application totals, this
value is the same as <code class="docutils literal notranslate"><span class="pre">runtime</span> <span class="pre">(s)</span></code>.  The
sync-runtime for the unmarked region represents
the total time for which the ranks on a compute
node were not in the same region (i.e. unaligned).
All subsequent default fields in the report are
sampled in the same way as the sync-runtime and
can be compared with it.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">package-energy</span> <span class="pre">(J)</span></code>: Total energy in joules consumed by all</dt><dd><p>processor packages (sockets).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dram-energy</span> <span class="pre">(J)</span></code>: Total energy in joules consumed by all DRAM on</dt><dd><p>the board.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">power</span> <span class="pre">(W)</span></code>: Average power for the processor package, calculated as</dt><dd><p>package-energy divided by sync-runtime.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">frequency</span> <span class="pre">(%)</span></code>: Achieved core frequency as a percentage of the</dt><dd><p>sticker (base) frequency for the processor.  This
frequency is calculated using the ratio of
CYCLES_THREAD to CYCLES_REFERENCE.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">frequency</span> <span class="pre">(Hz)</span></code>: Achieved core frequency for the processor in</dt><dd><p>hertz.  This frequency is calculated using the
ratio of CYCLES_THREAD to CYCLES_REFERENCE times
the sticker (base) frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-network</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the</dt><dd><p>region hint was GEOPM_REGION_HINT_NETWORK.
The region hint is determined by the hint
passed to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most
nested region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-ignore</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the region</dt><dd><p>hint was GEOPM_REGION_HINT_IGNORE.  The
region hint is determined by the hint passed
to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most nested
region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-compute</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the</dt><dd><p>region hint was GEOPM_REGION_HINT_COMPUTE.
The region hint is determined by the hint
passed to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most
nested region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-memory</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the region</dt><dd><p>hint was GEOPM_REGION_HINT_MEMORY.  The
region hint is determined by the hint passed
to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most nested
region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-io</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the region</dt><dd><p>hint was GEOPM_REGION_HINT_IO.  The region hint
is determined by the hint passed to
<code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most nested region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-serial</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the region</dt><dd><p>hint was GEOPM_REGION_HINT_SERIAL.  The
region hint is determined by the hint passed
to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most nested
region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-parallel</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the</dt><dd><p>region hint was
GEOPM_REGION_HINT_PARALLEL.  The region
hint is determined by the hint passed to
<code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most nested
region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-unknown</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the</dt><dd><p>region hint was GEOPM_REGION_HINT_UNKNOWN.
The region hint is determined by the hint
passed to <code class="docutils literal notranslate"><span class="pre">geopm_region()</span></code> for the most
nested region.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time-hint-unset</span> <span class="pre">(s)</span></code>: The portion of sync-runtime where the region</dt><dd><p>hint was GEOPM_REGION_HINT_UNSET.  The region
hint also becomes unset when exiting an
unnested region (i.e. when a CPU is in the
unmarked region).</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">gpu-energy</span> <span class="pre">(J)</span></code>: Total energy in joules consumed by all GPUs.</p>
<p><code class="docutils literal notranslate"><span class="pre">gpu-power</span> <span class="pre">(W)</span></code>: Average power for the GPUs in watts.</p>
<p><code class="docutils literal notranslate"><span class="pre">gpu-frequency</span> <span class="pre">(Hz)</span></code>: Achieved frequency for the GPUs in hertz.</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Report</span> <span class="pre">Extensions</span></code>:</p></li>
</ul>
<p>The report can be extended by agents, or by through the
<code class="docutils literal notranslate"><span class="pre">--geopm-report-signals</span></code> option to <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> which corresponds to
the <code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT_SIGNALS</span></code> environment variable.  See the description
for <code class="docutils literal notranslate"><span class="pre">--geopm-report-signals</span></code> in <a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a> for more details.
Signals in the <code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT_SIGNALS</span></code> list will be added to individual
regions, the epoch totals, and the application totals for each host.</p>
<p>Agents can add keys to the report header, host section, or individual
region sections using the <code class="docutils literal notranslate"><span class="pre">report_header()</span></code>, <code class="docutils literal notranslate"><span class="pre">report_host()</span></code> or
<code class="docutils literal notranslate"><span class="pre">report_region()</span></code> methods respectively.  See <a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a> for
more information about the report extensions available to agents.</p>
</section>
<section id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<p>Suppose we have a system with 2 sockets per node and 2 CPUs per
package (socket); assume 1 CPU per core for simplicity
(i.e. hyperthreading is turned off if applicable).  The application
places one process (MPI rank) on each CPU, and each rank executes the
same application code, containing regions called &quot;A&quot; and &quot;B&quot;.  The
processes are assigned to cores as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">socket</span> <span class="mi">0</span>     <span class="o">|</span>      <span class="n">socket</span> <span class="mi">1</span>

<span class="n">CPU</span> <span class="mi">0</span>  <span class="o">|</span>  <span class="n">CPU</span> <span class="mi">1</span>  <span class="o">|</span>  <span class="n">CPU</span> <span class="mi">2</span>  <span class="o">|</span>  <span class="n">CPU</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="simple">
<dt>---------+---------+---------+----------</dt><dd><p>1    |    2    |    3    |    4</p>
</dd>
</dl>
<p>The following is an example of the region enter/exit and epoch events
seen by the Controller.  This stream of events will be used to
calculate the average runtime and count over ranks for regions and
epoch, and the current region hash for sampling.</p>
<p>The following is an example of the regions being entered and exited on
each CPU.  The sample rate is 0.002 s; the region hash for the
REGION_HASH sample at larger domains is shown on the right side of the
table; &quot;-&quot; indicates the unmarked region.  Note that in a real report,
the entry and exit times used to calculate the &quot;runtime&quot; may not line
up exactly with the sample boundaries (e.g. 0.003 or 0.005), and
samples may not be exactly the same length throughout the run.</p>
<blockquote>
<div><p>time    CPU0   CPU1   CPU2   CPU3   ||  board   pkg0   pkg1</p>
</div></blockquote>
<p>-------------------------------------++----------------------
0.001     -      -      -      -     ||
0.002     A      -      -      A     ||   -       -      -
0.003     A      A      -      A     ||
0.004     A      A      A      A     ||   A       A      A
0.005     -      A      A      A     ||
0.006     B      A      A      A     ||   -       -      A
0.007     B      B      A      B     ||
0.008     B      B      B      B     ||   B       B      B
0.009     B      B      B      B     ||
0.010     B      B      B      B     ||   B       B      B
0.011     -      -      -      -     ||
0.012     finalize: report generated ||   -       -      -</p>
<p>A subset of the report is shown below.  The &quot;runtime&quot; and &quot;count&quot;
fields are averaged across the 4 CPUs.  The user extensions for
&quot;<a class="reference external" href="mailto:TIME&#37;&#52;&#48;package">TIME<span>&#64;</span>package</a>&quot; correspond to the sync runtime for each package.</p>
<blockquote>
<div><p>Regions:</p>
</div></blockquote>
<hr class="docutils" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
 <span class="s2">&quot;runtime&quot;</span><span class="p">:</span> <span class="mf">0.00375</span><span class="p">,</span>   <span class="o">//</span> <span class="n">average</span> <span class="n">of</span> <span class="p">[</span><span class="mf">0.002</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">]</span>
 <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s2">&quot;sync-runtime&quot;</span><span class="p">:</span> <span class="mf">0.002</span><span class="p">,</span>    <span class="o">//</span> <span class="mi">1</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">for</span> <span class="n">board</span>
 <span class="s2">&quot;TIME@package-0&quot;</span><span class="p">:</span> <span class="mf">0.002</span><span class="p">,</span>  <span class="o">//</span> <span class="mi">1</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">for</span> <span class="n">package</span> <span class="mi">0</span>
 <span class="s2">&quot;TIME@package-1&quot;</span><span class="p">:</span> <span class="mf">0.004</span>   <span class="o">//</span> <span class="mi">2</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">for</span> <span class="n">package</span> <span class="mi">1</span>
 <span class="o">-</span>
 <span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span>
 <span class="s2">&quot;runtime&quot;</span><span class="p">:</span> <span class="mf">0.002875</span><span class="p">,</span>  <span class="o">//</span> <span class="n">average</span> <span class="n">of</span> <span class="p">[</span><span class="mf">0.005</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">,</span> <span class="mf">0.003</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">]</span>
 <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s2">&quot;sync-runtime&quot;</span><span class="p">:</span> <span class="mf">0.004</span><span class="p">,</span>    <span class="o">//</span> <span class="mi">2</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">B</span> <span class="k">for</span> <span class="n">board</span>
 <span class="s2">&quot;TIME@package-0&quot;</span><span class="p">:</span> <span class="mf">0.004</span><span class="p">,</span>  <span class="o">//</span> <span class="mi">2</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">B</span> <span class="k">for</span> <span class="n">package</span> <span class="mi">0</span>
 <span class="s2">&quot;TIME@package-1&quot;</span><span class="p">:</span> <span class="mf">0.004</span><span class="p">,</span>  <span class="o">//</span> <span class="mi">2</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">B</span> <span class="k">for</span> <span class="n">package</span> <span class="mi">1</span>

<span class="n">Unmarked</span> <span class="n">Totals</span><span class="p">:</span>
  <span class="s2">&quot;runtime&quot;</span><span class="p">:</span> <span class="mf">0.003</span><span class="p">,</span>     <span class="o">//</span> <span class="n">average</span> <span class="n">of</span> <span class="p">[</span><span class="mf">0.003</span><span class="p">,</span> <span class="mf">0.003</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">]</span>
  <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;sync-runtime&quot;</span><span class="p">:</span> <span class="mf">0.006</span><span class="p">,</span>    <span class="o">//</span> <span class="mi">3</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">unmarked</span> <span class="k">for</span> <span class="n">board</span>
  <span class="s2">&quot;TIME@package-0&quot;</span><span class="p">:</span> <span class="mf">0.006</span><span class="p">,</span>  <span class="o">//</span> <span class="mi">3</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">unmarked</span> <span class="k">for</span> <span class="n">package</span> <span class="mi">0</span>
  <span class="s2">&quot;TIME@package-1&quot;</span><span class="p">:</span> <span class="mf">0.004</span><span class="p">,</span>  <span class="o">//</span> <span class="mi">2</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">unmarked</span> <span class="k">for</span> <span class="n">package</span> <span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="geopm.7.html">geopm(7)</a>,
<a class="reference external" href="geopm_prof_c.3.html">geopm_prof_c(3)</a>,
<a class="reference external" href="GEOPM_CXX_MAN_Agent.3.html">geopm::Agent(3)</a>,
<a class="reference external" href="geopmlaunch.1.html">geopmlaunch(1)</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="GEOPM_CXX_MAN_TimeIOGroup.3.html" class="btn btn-neutral float-left" title="geopm::TimeIOGroup(3) -- IOGroup providing time signals" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geopm_agent_energy_efficient.7.html" class="btn btn-neutral float-right" title="geopm_agent_energy_efficient(7) -- agent for saving energy, also finds optimal region frequencies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015 - 2021, Intel Corporation. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>