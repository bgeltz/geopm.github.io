<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: geopm::ProfileRankSamplerImp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">geopm
   </div>
   <div id="projectbrief">GEOPM - Global Extensible Open Power Manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeopm.html">geopm</a></li><li class="navelem"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html">ProfileRankSamplerImp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeopm_1_1_profile_rank_sampler_imp-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geopm::ProfileRankSamplerImp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Retrieves sample data from a single application rank through a shared memory interface.  
 <a href="classgeopm_1_1_profile_rank_sampler_imp.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_profile_sampler_8hpp_source.html">ProfileSampler.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for geopm::ProfileRankSamplerImp:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_profile_rank_sampler_imp__inherit__graph.png" border="0" usemap="#geopm_1_1_profile_rank_sampler_imp_inherit__map" alt="Inheritance graph"/></div>
<map name="geopm_1_1_profile_rank_sampler_imp_inherit__map" id="geopm_1_1_profile_rank_sampler_imp_inherit__map">
<area shape="rect" id="node2" href="classgeopm_1_1_profile_rank_sampler.html" title="geopm::ProfileRankSampler" alt="" coords="17,5,201,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for geopm::ProfileRankSamplerImp:</div>
<div class="dyncontent">
<div class="center"><img src="classgeopm_1_1_profile_rank_sampler_imp__coll__graph.png" border="0" usemap="#geopm_1_1_profile_rank_sampler_imp_coll__map" alt="Collaboration graph"/></div>
<map name="geopm_1_1_profile_rank_sampler_imp_coll__map" id="geopm_1_1_profile_rank_sampler_imp_coll__map">
<area shape="rect" id="node2" href="classgeopm_1_1_profile_rank_sampler.html" title="geopm::ProfileRankSampler" alt="" coords="17,5,201,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab923760e298e0d9997c856737db35ef3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html#ab923760e298e0d9997c856737db35ef3">ProfileRankSamplerImp</a> (const std::string &amp;shm_key, size_t table_size)</td></tr>
<tr class="memdesc:ab923760e298e0d9997c856737db35ef3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html" title="Retrieves sample data from a single application rank through a shared memory interface. ">ProfileRankSamplerImp</a> constructor.  <a href="#ab923760e298e0d9997c856737db35ef3">More...</a><br /></td></tr>
<tr class="separator:ab923760e298e0d9997c856737db35ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd8ee181765dc64e16c43292c5fa46e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html#accd8ee181765dc64e16c43292c5fa46e">~ProfileRankSamplerImp</a> ()</td></tr>
<tr class="memdesc:accd8ee181765dc64e16c43292c5fa46e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html" title="Retrieves sample data from a single application rank through a shared memory interface. ">ProfileRankSamplerImp</a> destructor.  <a href="#accd8ee181765dc64e16c43292c5fa46e">More...</a><br /></td></tr>
<tr class="separator:accd8ee181765dc64e16c43292c5fa46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f1faee276e548d6dd89f913ed70b47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html#a90f1faee276e548d6dd89f913ed70b47">name_fill</a> (std::set&lt; std::string &gt; &amp;name_set) override</td></tr>
<tr class="memdesc:a90f1faee276e548d6dd89f913ed70b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve region names from the application process.  <a href="#a90f1faee276e548d6dd89f913ed70b47">More...</a><br /></td></tr>
<tr class="separator:a90f1faee276e548d6dd89f913ed70b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187f512c2d7ef3365e04ef6d9f0c3f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html#a187f512c2d7ef3365e04ef6d9f0c3f59">report_name</a> (std::string &amp;report_str) const override</td></tr>
<tr class="separator:a187f512c2d7ef3365e04ef6d9f0c3f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae092179ac94a4681f47d604060720241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html#ae092179ac94a4681f47d604060720241">profile_name</a> (std::string &amp;prof_str) const override</td></tr>
<tr class="separator:ae092179ac94a4681f47d604060720241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgeopm_1_1_profile_rank_sampler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgeopm_1_1_profile_rank_sampler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgeopm_1_1_profile_rank_sampler.html">geopm::ProfileRankSampler</a></td></tr>
<tr class="memitem:aaa88b8bf991e82492e54687ad7fbc3e4 inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler.html#aaa88b8bf991e82492e54687ad7fbc3e4">ProfileRankSampler</a> ()=default</td></tr>
<tr class="separator:aaa88b8bf991e82492e54687ad7fbc3e4 inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2eb3ec327dee93bb205ce8b27a03157 inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler.html#ab2eb3ec327dee93bb205ce8b27a03157">ProfileRankSampler</a> (const <a class="el" href="classgeopm_1_1_profile_rank_sampler.html">ProfileRankSampler</a> &amp;other)=default</td></tr>
<tr class="separator:ab2eb3ec327dee93bb205ce8b27a03157 inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a25e91043fbcef5e2f4603fc8a6d35 inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeopm_1_1_profile_rank_sampler.html">ProfileRankSampler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler.html#aa7a25e91043fbcef5e2f4603fc8a6d35">operator=</a> (const <a class="el" href="classgeopm_1_1_profile_rank_sampler.html">ProfileRankSampler</a> &amp;other)=default</td></tr>
<tr class="separator:aa7a25e91043fbcef5e2f4603fc8a6d35 inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52eea8afdaf5b3c87a26f49ca277cf3d inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_profile_rank_sampler.html#a52eea8afdaf5b3c87a26f49ca277cf3d">~ProfileRankSampler</a> ()=default</td></tr>
<tr class="separator:a52eea8afdaf5b3c87a26f49ca277cf3d inherit pub_methods_classgeopm_1_1_profile_rank_sampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Retrieves sample data from a single application rank through a shared memory interface. </p>
<p>The <a class="el" href="classgeopm_1_1_profile_rank_sampler.html">ProfileRankSampler</a> is the runtime side interface to the shared memory region for a single rank of the application. It can retrieve samples from the shared hash table for that rank. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab923760e298e0d9997c856737db35ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab923760e298e0d9997c856737db35ef3">&#9670;&nbsp;</a></span>ProfileRankSamplerImp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::ProfileRankSamplerImp::ProfileRankSamplerImp </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>shm_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>table_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html" title="Retrieves sample data from a single application rank through a shared memory interface. ">ProfileRankSamplerImp</a> constructor. </p>
<p>The <a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html" title="Retrieves sample data from a single application rank through a shared memory interface. ">ProfileRankSamplerImp</a> constructor takes in a unique shared memory key for the rank as well as the size of the hash table to be shared with the application rank. It creates the shared memory region and the hash table that the application will attach to.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">shm_key</td><td>Shared memory key unique to a specific rank.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_size</td><td>Size of the hash table to create in the shared memory region. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="accd8ee181765dc64e16c43292c5fa46e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accd8ee181765dc64e16c43292c5fa46e">&#9670;&nbsp;</a></span>~ProfileRankSamplerImp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geopm::ProfileRankSamplerImp::~ProfileRankSamplerImp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classgeopm_1_1_profile_rank_sampler_imp.html" title="Retrieves sample data from a single application rank through a shared memory interface. ">ProfileRankSamplerImp</a> destructor. </p>
<p>Cleans up the hash table and shared memory region. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a90f1faee276e548d6dd89f913ed70b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f1faee276e548d6dd89f913ed70b47">&#9670;&nbsp;</a></span>name_fill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool geopm::ProfileRankSamplerImp::name_fill </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>name_set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve region names from the application process. </p>
<p>Coordinates with the application process to retrieve the profile name, region names, and the file name to write the report to.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if finished retrieving names from the application, else returns false. </dd></dl>

<p>Implements <a class="el" href="classgeopm_1_1_profile_rank_sampler.html#ab9c4ad57bcda969217b4927e1142eb1b">geopm::ProfileRankSampler</a>.</p>

</div>
</div>
<a id="ae092179ac94a4681f47d604060720241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae092179ac94a4681f47d604060720241">&#9670;&nbsp;</a></span>profile_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::ProfileRankSamplerImp::profile_name </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>prof_str</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgeopm_1_1_profile_rank_sampler.html#a8473f173fc5b30347a883339e28367d1">geopm::ProfileRankSampler</a>.</p>

</div>
</div>
<a id="a187f512c2d7ef3365e04ef6d9f0c3f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187f512c2d7ef3365e04ef6d9f0c3f59">&#9670;&nbsp;</a></span>report_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::ProfileRankSamplerImp::report_name </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>report_str</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgeopm_1_1_profile_rank_sampler.html#a78366415a630869add265426e4ab54f7">geopm::ProfileRankSampler</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_profile_sampler_8hpp_source.html">ProfileSampler.hpp</a></li>
<li>src/<a class="el" href="_profile_sampler_8cpp.html">ProfileSampler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
